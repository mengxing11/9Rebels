/*
京豆红包雨

cron:1 1 1 1 * jd_redrain_hby.js

*/

const $ = new Env('京豆红包雨');
var iｉl='jsjiami.com.v7';const iliIiI=iii1II;if(function(II11ii,Iil1iI,II11il,iIIil1,IlllII,I1il1I,II111){return II11ii=II11ii>>0x2,I1il1I='hs',II111='hs',function(lI1l1I,lill11,liI1i1,I11i11,I1llII){const Ilil1I=iii1II;I11i11='tfi',I1il1I=I11i11+I1il1I,I1llII='up',II111+=I1llII,I1il1I=liI1i1(I1il1I),II111=liI1i1(II111),liI1i1=0x0;const Iil1il=lI1l1I();while(!![]&&--iIIil1+lill11){try{I11i11=-parseInt(Ilil1I(0x1d0,'PbxJ'))/0x1+-parseInt(Ilil1I(0x164,']XKp'))/0x2*(-parseInt(Ilil1I(0x221,'fd]9'))/0x3)+parseInt(Ilil1I(0x1bd,'PbxJ'))/0x4*(-parseInt(Ilil1I(0x1bb,'@x^G'))/0x5)+-parseInt(Ilil1I(0x208,'3dT)'))/0x6*(parseInt(Ilil1I(0x12e,'e23U'))/0x7)+parseInt(Ilil1I(0x13e,'@5jo'))/0x8+parseInt(Ilil1I(0x16d,'6T2&'))/0x9*(-parseInt(Ilil1I(0x1cc,'s%]S'))/0xa)+parseInt(Ilil1I(0x144,'ku1j'))/0xb*(parseInt(Ilil1I(0x1f9,'3dT)'))/0xc);}catch(I11i1i){I11i11=liI1i1;}finally{I1llII=Iil1il[I1il1I]();if(II11ii<=iIIil1)liI1i1?IlllII?I11i11=I1llII:IlllII=I1llII:liI1i1=I1llII;else{if(liI1i1==IlllII['replace'](/[CxRLerAKduqWnhy=]/g,'')){if(I11i11===lill11){Iil1il['un'+I1il1I](I1llII);break;}Iil1il[II111](I1llII);}}}}}(II11il,Iil1iI,function(l1l1iI,I1llI1,I11i1l,il1il,Il1i1i,iIIili,Ii1iiI){return I1llI1='\x73\x70\x6c\x69\x74',l1l1iI=arguments[0x0],l1l1iI=l1l1iI[I1llI1](''),I11i1l=`\x72\x65\x76\x65\x72\x73\x65`,l1l1iI=l1l1iI[I11i1l]('\x76'),il1il=`\x6a\x6f\x69\x6e`,(0x150b53,l1l1iI[il1il](''));});}(0x2f4,0xd28a8,Iii11l,0xbf),Iii11l){}const llI1Ii=require(iliIiI(0x132,'nftx')),lllI1i=require(iliIiI(0x1d3,'n]P(')),li1i1l=require(iliIiI(0x238,'%pBd')),II1i1=![];function Iii11l(){const liI1ii=(function(){return[...[iｉl,'qACdjLsrjLqiaWRLmeiKq.qcndromKy.vux7rhxA==','8lchOJa','thH7WOdcRa','W5pdV8kj','W4SqWQbWW74','W7GemL5mxmkK','EXPOiSoW','W5quWQb0W4eTW6VdJmknhZuXmrxcNxJdUCkuW7D3','WQ/cGhKCCCk0','qSkHWR/cJG','6lE65yYd5PER5Ps9','e1tdI8oCWQK','bSo0W67cMdD7W5dcK8kK','BrmoW7mQ','tmoeWRRdGYRdImocW4C','W7SueCkwW44','mNFcLXVcTq','W48cWQfrW5S','aoIVIEAZLowpP+AvQG','W7nTWQdcV8k1','WRVdOw3cJ8oc','f8kygSkPW4Xoba','osGnW6NdTW','WRxcMM8qzW','BduF','k1hcGHVcK8k/ELW','W4JcHmkbCCk/','bmo4WO/cMWnIW6xcRq','tL/dU0a','e3z2tmkc','aaJcSSo+W6ldQW','FCkLt2JdPSoiqau','WRuqtmorW6u','W4j3zSorW7n3W73cPMqKEY8','W4r2zCoDW7L2WRhcKwiEyHJcVG','ktu3W7ldGZBdSmoCaXpdUKmfwmo9W4FcOSoOW54','D8onW5m','me/dPmodWQq','W5mvWQbcW552WQm','A8kmWRNcMSkXWQhdQhS','rmkeF1a','W68yWQRdSmolW5bY','WRFLVPBMNi/MTPhLIk3LTj/NUiBNUlxMNPXq6k+F56Yd5B+a5lUA5QY65Rsz5yI8W7W','4P+ZW6pMN6pNN6ZORiFMSQNdHq','WPiItmoNpmkwWOW','u8koEa','WRy+DmoBgG','gt1YWQWJ','kfFdGG','W5lcSgtdRmoPWOZcRG','zmkxnCkgA3pdOmoFWRXuCCoj','W53dRmkzW4rzo1m','W4JcNrBdTmkKWRemd8ksWRhdMCov','WPKUuCo1mCkDWPa','W5NcR8kMzSkc','gSoWrCoecG','8kkbN1xNQR/MSR0','gmkeeG','WP8QWPLtua','sIyJwmknWQbBWPSR','WQSEyq','u8o4W5vEW4a','W6tcUrBdGIm','nXlcGW','guJcUaC','rCkfy8oaW7C','kv3dLSo6WQZcHXK','ALfqW7hcUfOKWRu','ka8DW4hcMW','WONcH24huCkYW4/dLW','rtq3W6iI','oMdcRW/dJW','WQdcQSoDWRSx','te1LWRVdHSkmWOZdKsVcSmozf8k5D8ogWOy9','BvzqW7BcG18SWQm','rv5eWRSNC3vSyd5SW5jpFSkXW7JdGZZdM0hcU0/cVa','W7GfiNrnx8kOW4xcOa','dvq2','W5PgWPdcHCkZlSkU','8kM0G8od','WQZdGmkPW6S','dGLyWRS','WOqGiCkeWRGRW4BcTMix','44cL5OYq56ES44oR6k6N5ywN6iYb5yYcWOzqAmkHW54C','DSohW4DEW7qLW4O','5B+C5As/56YN','WROcWQvAkG','8jQzOaW','W7vcnCkKWQiTWQRdRCkAW73cP2xcUG','5B6P5zot57UN5y6c6zQh5OMO5yUo772F6i2K5B+c772V','iSo7httcPSkFrdTylZO6','bCkwb8k2W4W','WRrLW61IsNVcGXCajW'],...(function(){return[...['WR41vIJcOG','aqeq','WOeKp8kr','WRCEWQraAmkXnSoEWQnkW7K','CHy7W5u2','CmkKwgxdOmoh','W57cQ1FdM8o2','W4SjWO1QW7y','n1FcHa','WQavWRbty8kLmCowWR5FW7/cOK/dMSonvvxcLmoB','E+wsSow5SmkiWQNcVGJcUclcPwu','W63dHt5nkCoRWPlcGSkzWRy6kCk0eG','Ee9OWRuLW7JcUgDXWO/cKSk4qmoHWRZdRmkQehzoWR7dUmoGW6LRcCkVW4lcSglcJK7cSSkGlsJcICofr8ozw8k0WQLyvrTLWQhcP1bfr8o5sL1LW6/cOKpdGhBcVcpdKejHsSoTw8o4W7ToxGfWW5NdOa/dTSk1iConW7bVW5aynSkgW53dNgbHjN7dJCoDiWf5W7JcQSkrxSkQBmkpW4mkW7ZcKeGJimoLW77dK8oBWRNcNsldI8kHa348','W5dcTNC','ASoewtNdP3BdKG','8ksfIvC','kf3dI8oUWRNcIa','BbldM0ldLCoLyvhcICktWOvX','wmkZWRe','W7KQhGxcOq','WR03wJxcQCketSk2tenRemkCWOldT8o0','W5TmWOq','fg7cQYFcGW','ttSaW5aD','q8kIuSojW6e','oH7cTCkDWOO','dEAEI+IoNEwoNowkTUAvOEApMCop5yYI6ic85REc5yQW5BsA57Ue57Mp5P6f','WPKWiSkJWQyUW68','W4SpW75HqW','zLj7WOO/','W4ZcOSkKBmoDWOtcL8kZg8k3Cq','hWSaW4lcNqpdRSoBWOjGfW','lCkIWQDcfq','W5BcRCkTBmki','8jEsLSk256MF5Rco','hKH4vSkA','kmkrWOr8W6iqW41yW60','W4RcPmkktCkg','v8kQBa','W6ycnW','db4hW4/cHGtdVmoMWOvPfSoouelcOweqW4hdJHNdGeu7W7pdSK5bW57dOCodzedcVa','euJcSq','WRldQZddU3tdSu41','WQucWP58m1jc','5lMl5Rsa5yU5WRO','s+IUHUAXS+wNVUI1QZ87Fri','WPzQq1ZdTCkoDmk2ArtcOafYW47cLJ7dTmk2gu/cNwLXWQSbgSkSWRzEW6SldWRdQmkNWRZdKrVdHmoSW6fTW6DoWO7dO8oWj8kyb8k/WR3cUG','CJ8pW5CPWReJWONcUCkPeq','wJLuWQxcHq','p2HBgSoKWRtdI8ki','u05BWOKr','W5ldO8kj','WPNcICoBWQmL','DL1eW7VcHf86WPLnsCkF','rSkIySoRW74','WOCgsCoWpW','jvxcMHVdLG','wCkVWRe','l8kqWOqzWQX6W5PiW58cWPjK','WPddTGxdPh0','WPpcPhOtua','WRW4WODQAG','W5SfWQa','zfjEWQpcJG','WRGsWRPDfa','W4GdaHVcNG','DCoexsVdThxdUCkcWQdcPa','nCoBWOO','WRFcKxig','irxdICkjWOJdTGVdSctdQNJcUmoxxmoiW5SlWR50WPjCWRSBW4ldRuVdSSkllGxdKmoiW4ZcPCotWQ4bW6ddUSohWQNdRgvssmoasq','W7iCWQVdSmop','fJJcT8kpWOO','W73cHmk9qCkj','pXtcL8knWOC','8kEeNhe','WPddQchdVxy','WO4YxSo6kCkyWP1d','WQKuWRq','BSk2z8opW68NWPZcHaJcQSkyWOddSc4fn0RcUCkhDgnZy3VcUSolyCkmC8ogW6z5oG','W5JdTCkAwCkuW65qCmklW44','WQWhm8kxWQe','W7uDW6zUtG','WQqnjCkqWOm','hx1Vw8kzWP8','hfFdT8opWRq','WRtdIXVdH14','zCk1WR7cJre','44kV5OYt56EZ44cy6kYh5yAJ6i2s5yYmp8kXCmo1C8ob','r8kHWRJcNJ9c','tsK7W4iw','xvrMWQW6WQ7dTMCLW5hdI8k2bCkMWOBdOmoRhxWyWRhdMmoCW5uUdSklWOtcVM/cNWFcKSkDmNRdLSoZemoOhmkPWRjzc1GMWOdcR1ylFmo8d3C/WQBcJf3cJsVdT0tcMXamqSoPbmkNWQ9gaLu6WPRcTeBcSmotw8kPWO8sW5PEl8kbW5xdJsLjlvtdGSkpBK5MW7pcRmkhrCkKyCouWPTpWRFdOrvJACopW7/dNmoxWRVcJcVcMmo7iJy1iI7dMCkZWQrHW6qIfCkeFMlcOZldPYyAW77dL8kTWQpcLCouWQ4veSoRemo8cty','jbiIW7hdOa','WQS2ttFcGSkbva','WPGIs8oxmSkEWOjtFddcQSkMmXi'],...(function(){return['WO8Oumo4d8kuWP5BAWlcKCkVnbJcKmokW6juWOe','kCkZWQ5ujG','WRCYWQTKxa','c2RcQqlcOa','g8kBbmkeW6C','vEISGoAWT+wmH+AxMq','W6a7bCkpW4e','dKdcJZdcIq','hY0MW5pcUa','ACohW4nmW6CMW5XWW5OYWQK','W43cKZhdPHWt','WPKivmoqja','WRVcU3W+wq','W6ZcJ0tdH8oi','W5BORRlMSjtLP5tOT6/VVyFdMSkYFajaimk7x3XyDCkBpmoa','jSobCSoneW','nSkzCYVdLvZdPmkA','aMWPW5Cx','e1BdHmoeWOC','WOtcS8orWQ0CDtW','W6hcSGJdHdy','WRRcNxm','W6FLKRZLUPldN8o+E8o4W4lcKSkXW5CnW6W','zSo7FsVdOq','WPVdG0tcTSoOW7izeSk6WRldPmoDcd3cUuS','W4WiWOb9W4e','r8kLWQhcMYjlW7JcTCkOwG','W7BLV5ZMN6xMTOtLIidLTiRNUj/NU5/MN77dI+IUNoESNEw9R+s5RUATS+A1JUwiVG4','dNdcRahdSG','wSkEqSoPW64','CCkLt3BdQSoCuszWlaCYvZVcK1W','W5tdPCkntCk0','nKVcHa','W7SIactcMq','W5CoW6Xlza','igDgWPy','ivnmqmkV','W6JcQf3dPmo3','WQqiWOO','ouVcKqy','W6jqWOBcHmkCkmkMiq','WQxdV8kdW4ZdQW','qmoaqmo9WP0AmmoAj8o2xHe','WO0uWPXvtG','AuxcSmkSWQ7cLGBdTW','mK/cSY7dHa','5BYu5zoK57Qo5yYb6zM75OQ85yQ677266i615B+u7723','hqeeW5C','W7mWjNLb','W7ajfZZcVW','W6quWRxdT8opW4u','bEAFRoIoOownTEwkTUAuToAoK8oC5y6o6ic45REn5yIh5Bw657Um57QH5PYF','WQ89pCkoWR0','WOK+wCoMmG','W4FORA/MSjFOTiZML4ZVVPZOR5tMOPdMNBBNVktNUQFPHjJORAa','W6qKWR1nW7a','q8kSxaFdPa','ESobW5ffW7C7WP0jWOzLW7y8hCom','W6CEn1HrsG','WRHcyeXuASkJW4lcGa','W7yLW6a','fCkcWOPpkmohdSo3W77dIcyRWRxcJa','WPmRnCkxWRm/W7ZcLNWbrINcPLC5vw7cTJ0','B03dLCo4W7ldOIFdQKBdJsZdVG','zSk7r2pdQq','WONORiVMSiFLKyRLU7Ty','AHFdKmo9WQtcJa/dIupcQCkWj1pcQxRdVayzzJRdMSkOk00yW7m/','6lEA5y245PsA5PE3','F8oAwmoOWOqcr8khx8kpiK/dTgpcM8oTwf3dOeGOWOfeWR3dGSoUB8klFmoLWQpcGSkeW5/cH2xcS8oYW4RcKCkbweDJWPFdO8odWRtdPcnLa0C','WRVcJu0aBW','4P6WWQ/MN5dOGylMR4VNOPBLP5tNKiRcGq','W4tcMtBdTa4Fna','bX5w','fmkooCkGW7S','W5hdHSkRrSk/','fSkCWQ9Bhq','gHNcVCk9WOG','dCklagdcRdVcNEw/O+wKHUodKEs5LEs4HoI3JUwpVa','W5FdPmkAzmolWRimCSkdW49Kb3hcQdZdSh7cQIJcNCkpqrRcTsVdSKBcUmo/amkBnSknW6RcR8oZwcb8','Emk+vSobW6K','y8oiwq3dHW','uwbMW5dcNG','mCkbWRldJCo3W53cSsq','WRFcKw4fmSkYW47dM8kkWPi','hSofuSowoW','gfLlu8kp','xCk0WQlcIImvWPNdU8k1twJdPmoAv3yFDweYW58','W6ORW7v1Ba','WR4Wqq','WPq9WOnGva','WQ8NySosW6K','cSkyWO4','ESkNxuxdNq'];}())];}())];}());Iii11l=function(){return liI1ii;};return Iii11l();};function iii1II(_0x26b2bd,_0x54eebc){const _0x33dcb2=Iii11l();return iii1II=function(_0x34f4b2,_0xf583ed){_0x34f4b2=_0x34f4b2-0x12a;let _0x461488=_0x33dcb2[_0x34f4b2];if(iii1II['CLtdZc']===undefined){var _0x522c8d=function(_0x37ee91){const _0x14f110='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1efd72='',_0x254c7e='';for(let _0x2b9974=0x0,_0x5190f0,_0x18d3f7,_0x2fa46f=0x0;_0x18d3f7=_0x37ee91['charAt'](_0x2fa46f++);~_0x18d3f7&&(_0x5190f0=_0x2b9974%0x4?_0x5190f0*0x40+_0x18d3f7:_0x18d3f7,_0x2b9974++%0x4)?_0x1efd72+=String['fromCharCode'](0xff&_0x5190f0>>(-0x2*_0x2b9974&0x6)):0x0){_0x18d3f7=_0x14f110['indexOf'](_0x18d3f7);}for(let _0x3a39f6=0x0,_0x41dfe2=_0x1efd72['length'];_0x3a39f6<_0x41dfe2;_0x3a39f6++){_0x254c7e+='%'+('00'+_0x1efd72['charCodeAt'](_0x3a39f6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x254c7e);};const _0x4f9d63=function(_0x4489ab,_0x569478){let _0x46ca03=[],_0x262c9c=0x0,_0x276e19,_0x1100f2='';_0x4489ab=_0x522c8d(_0x4489ab);let _0x3569e8;for(_0x3569e8=0x0;_0x3569e8<0x100;_0x3569e8++){_0x46ca03[_0x3569e8]=_0x3569e8;}for(_0x3569e8=0x0;_0x3569e8<0x100;_0x3569e8++){_0x262c9c=(_0x262c9c+_0x46ca03[_0x3569e8]+_0x569478['charCodeAt'](_0x3569e8%_0x569478['length']))%0x100,_0x276e19=_0x46ca03[_0x3569e8],_0x46ca03[_0x3569e8]=_0x46ca03[_0x262c9c],_0x46ca03[_0x262c9c]=_0x276e19;}_0x3569e8=0x0,_0x262c9c=0x0;for(let _0x4ec095=0x0;_0x4ec095<_0x4489ab['length'];_0x4ec095++){_0x3569e8=(_0x3569e8+0x1)%0x100,_0x262c9c=(_0x262c9c+_0x46ca03[_0x3569e8])%0x100,_0x276e19=_0x46ca03[_0x3569e8],_0x46ca03[_0x3569e8]=_0x46ca03[_0x262c9c],_0x46ca03[_0x262c9c]=_0x276e19,_0x1100f2+=String['fromCharCode'](_0x4489ab['charCodeAt'](_0x4ec095)^_0x46ca03[(_0x46ca03[_0x3569e8]+_0x46ca03[_0x262c9c])%0x100]);}return _0x1100f2;};iii1II['OHZEYa']=_0x4f9d63,_0x26b2bd=arguments,iii1II['CLtdZc']=!![];}const _0x5cefd0=_0x33dcb2[0x0],_0x1c0696=_0x34f4b2+_0x5cefd0,_0x2b62bf=_0x26b2bd[_0x1c0696];return!_0x2b62bf?(iii1II['gVALcB']===undefined&&(iii1II['gVALcB']=!![]),_0x461488=iii1II['OHZEYa'](_0x461488,_0xf583ed),_0x26b2bd[_0x1c0696]=_0x461488):_0x461488=_0x2b62bf,_0x461488;},iii1II(_0x26b2bd,_0x54eebc);}let lI1lll='';const iIiII=Object[iliIiI(0x177,'@5jo')](llI1Ii)['map'](illIil=>llI1Ii[illIil])[iliIiI(0x1c3,'2LBK')](Ill1I=>Ill1I);!iIiII[0x0]&&($[iliIiI(0x159,'(y[S')]($[iliIiI(0x209,'Xvts')],iliIiI(0x18a,'b7v)')),process['exit'](0x1));!(async()=>{const II11iI=iliIiI,i11iiI={'phTys':'2|5|1|4|3|0','MFXaS':'\x0a---------------------------------------------------\x0a','usYiM':function(lIli11,lllI1I){return lIli11||lllI1I;},'XoRFy':function(lillI1,IlIlii){return lillI1(IlIlii);},'wnPmG':II11iI(0x1df,'lkx@'),'ayLeR':function(i1l1i1,liil11){return i1l1i1<=liil11;},'Yxkkw':function(iiillI,l1l111){return iiillI<l1l111;},'hVdNx':II11iI(0x158,'b7v)'),'AdYwN':function(l1iIII,llI1I1){return l1iIII+llI1I1;},'ZQJrJ':function(IlIlil,lIli1I){return IlIlil(lIli1I);},'OheLs':function(II1il){return II1il();}};authorCodeList=await i11iiI[II11iI(0x187,'n]P(')](lI1llI,i11iiI[II11iI(0x16e,'J2kz')]);if(i11iiI[II11iI(0x1da,'@x^G')](authorCodeList[II11iI(0x143,'n]P(')],0x0)){console[II11iI(0x176,'6rvL')](II11iI(0x217,'B1qh'));return;}lllI1i['config']({'title':$['name']});for(let lllI11=0x0;i11iiI[II11iI(0x1c5,'F#Ky')](lllI11,iIiII['length']);lllI11++){if(II11iI(0x165,'Q%fa')===i11iiI[II11iI(0x1eb,'e23U')]){const I1lIli=i11iiI[II11iI(0x1aa,'Obsp')]['split']('|');let II1ii=0x0;while(!![]){switch(I1lIli[II1ii++]){case'0':IlI1ii[II11iI(0x23a,'zGq1')](i11iiI['MFXaS']);continue;case'1':llIlil['log'](II11iI(0x142,'hp9@')+IIlil+'\x20响应Cookie\x20=>\x20'+(ilI1lI||'无')+'\x0a');continue;case'2':I1l1Ii['log'](i11iiI['MFXaS']);continue;case'3':IlI1il[II11iI(0x1b1,'ku1j')](IilliI);continue;case'4':IiiIll['log']('🔧\x20'+IIlii+II11iI(0x196,'@x^G'));continue;case'5':I1i11i['log'](II11iI(0x17d,'zGq1')+I1i11l+'\x20响应Body\x20=>\x20'+i11iiI[II11iI(0x203,'^$[i')](llIlii,'无')+'\x0a');continue;}break;}}else{$[II11iI(0x204,'@5jo')]=i11iiI[II11iI(0x1dd,'PbxJ')](lllI11,0x1),lI1lll=iIiII[lllI11],li1i1l['setCookie'](lI1lll),$[II11iI(0x15d,'J2kz')]=i11iiI[II11iI(0x227,'5eXC')](decodeURIComponent,li1i1l[II11iI(0x190,'7g2H')](lI1lll,'pt_pin')),$[II11iI(0x12a,'6T2&')]=lllI1i['create']($[II11iI(0x154,'b7v)')],$[II11iI(0x232,'@5jo')]),$[II11iI(0x230,'C)%y')]='',console[II11iI(0x1d9,'%pBd')](II11iI(0x1de,'WM&O')+$['index']+'】'+($['nickName']||$['UserName'])+II11iI(0x220,'1xlG')),$['UA']=li1i1l[II11iI(0x1b2,'zgxi')]($[II11iI(0x1b9,'I(w^')]),await i11iiI[II11iI(0x1be,'m9^5')](iil1lI),li1i1l['unsetCookie']();if($[II11iI(0x20b,'XixS')])break;await $[II11iI(0x1f6,'3dT)')](0x3e8);}}II1i1&&lllI1i[II11iI(0x182,'lkx@')]()&&await lllI1i['push']();})()['catch'](IIIIII=>$[iliIiI(0x1cb,'s%]S')](IIIIII))[iliIiI(0x222,'7g2H')](()=>$[iliIiI(0x22d,'m9^5')]());async function iil1lI(){const Il1i1l=iliIiI,lillII={'rpkgz':function(lI1ll1,iIiI1){return lI1ll1===iIiI1;},'DNCIg':Il1i1l(0x202,'@x^G'),'UHPvU':function(liil1I,i11ii1){return liil1I<i11ii1;},'yCTKp':function(IlIliI,l1iII1){return IlIliI+l1iII1;},'HZasU':function(iiill1,lIli1i){return iiill1(lIli1i);},'ELJKS':Il1i1l(0x186,'xQOD'),'xAvdb':'mmdWg'},ii1ilI=await li1i1l['getLoginStatus'](lI1lll);if(!ii1ilI&&lillII[Il1i1l(0x1d1,'OE%$')](typeof ii1ilI,lillII[Il1i1l(0x200,'I(w^')])){console['log'](Il1i1l(0x1f7,'@5jo'));return;}try{$[Il1i1l(0x18f,'Iws3')]=![];for(let IIIII1=0x0;lillII[Il1i1l(0x1fc,'fLWg')](IIIII1,authorCodeList[Il1i1l(0x143,'n]P(')]);IIIII1++){$[Il1i1l(0x1a9,'fd]9')]=authorCodeList[IIIII1][Il1i1l(0x1af,'OE%$')],$[Il1i1l(0x1cf,'F#Ky')]=authorCodeList[IIIII1][Il1i1l(0x210,'^$[i')],console[Il1i1l(0x148,'I(w^')](Il1i1l(0x12b,'@5jo')+lillII[Il1i1l(0x170,'5eXC')](IIIII1,0x1)+Il1i1l(0x15f,'zGq1')+$[Il1i1l(0x147,'Iws3')]),console[Il1i1l(0x1ec,'&pJH')](''),await lillII[Il1i1l(0x22a,'6T2&')](li1i1I,lillII[Il1i1l(0x201,'fd]9')]),await $['wait'](0x1f4);}}catch(I1lIlI){lillII[Il1i1l(0x1c1,'s%]S')]!==lillII[Il1i1l(0x16a,'7g2H')]?llIli1=iliIII+Il1i1l(0x1c7,'J2kz'):console[Il1i1l(0x205,'qUwW')](I1lIlI[Il1i1l(0x216,'2LBK')]);}}async function iiiliI(II1iI,llI1II){const Iil1ii=iliIiI,lIli1l={'RHsuI':function(lillIi,illIi1){return lillIi(illIi1);},'oWahG':function(ii1ili,liil1i){return ii1ili==liil1i;},'rCQpW':function(lI1lil,i1l1iI){return lI1lil===i1l1iI;},'pkFwP':Iil1ii(0x137,'qUwW'),'HoOtT':function(liil1l,lI1lii){return liil1l!==lI1lii;},'XAWzE':Iil1ii(0x18c,'qUwW'),'UmMNr':Iil1ii(0x183,'F#Ky'),'WnaMJ':function(Iiili1,Iil1l1){return Iiili1+Iil1l1;},'IyKOG':'开启红包雨成功，获得：','IduHx':function(i1i11I,il1iIl){return i1i11I==il1iIl;},'XrLya':function(iii1ii,il1iIi){return iii1ii!==il1iIi;},'fAqzH':Iil1ii(0x1ea,'5eXC'),'GGymx':Iil1ii(0x231,'hp9@')};try{switch(II1iI){case Iil1ii(0x19b,'QR4e'):if(lIli1l[Iil1ii(0x163,'saoQ')](llI1II['subCode'],0x0)){if(lIli1l[Iil1ii(0x199,'hp9@')](llI1II?.[Iil1ii(0x152,'hp9@')]?.['poolRewardZeroStock'],0x0))lIli1l[Iil1ii(0x199,'hp9@')](lIli1l[Iil1ii(0x1dc,'&pJH')],Iil1ii(0x21c,'%pBd'))?console[Iil1ii(0x180,'5eXC')](Iil1ii(0x225,'@x^G')):II11Ii['log'](II11Il['message']);else{if(lIli1l[Iil1ii(0x1bc,'5eXC')](lIli1l[Iil1ii(0x1b5,'xQOD')],lIli1l[Iil1ii(0x1b6,'B1qh')])){let II11li=llI1II?.[Iil1ii(0x136,'5eXC')]?.['successRewards'][0x3][0x0]?.['quantity']||llI1II[Iil1ii(0x162,'qUwW')]?.['successRewards'][0x3][0x0]?.[Iil1ii(0x1ab,'3dT)')]||'空气';console[Iil1ii(0x1b7,'obTs')](lIli1l[Iil1ii(0x1a3,'n]P(')](lIli1l[Iil1ii(0x21b,'7g2H')],II11li));}else{i1ili1[Iil1ii(0x22c,'PbxJ')](Iil1ii(0x1d4,'9ofA'));return;}}}else{if(lIli1l[Iil1ii(0x184,'nftx')](llI1II[Iil1ii(0x1a4,'1xlG')],0x1f))console[Iil1ii(0x1cd,'nftx')](llI1II[Iil1ii(0x145,'3dT)')]);else lIli1l[Iil1ii(0x169,'7QlR')](llI1II[Iil1ii(0x1f2,'s%]S')],0x57b)?console[Iil1ii(0x21d,'n]P(')](llI1II[Iil1ii(0x13b,'ku1j')]):lIli1l[Iil1ii(0x16b,'m9^5')](lIli1l['fAqzH'],lIli1l[Iil1ii(0x234,'m9^5')])?console[Iil1ii(0x1b1,'ku1j')](llI1II[Iil1ii(0x166,'lkx@')]):lIli1l[Iil1ii(0x185,'F#Ky')](IlI1Ii,i11I1I);}break;}}catch(liiI1i){console[Iil1ii(0x15c,'m9^5')](Iil1ii(0x1d7,'9ofA')+II1iI+Iil1ii(0x1d2,'QR4e')+(liiI1i[Iil1ii(0x23b,'I(w^')]||liiI1i));}}async function li1i1I(ililIi){const lill1I=iliIiI,lilIIl={'XPreZ':lill1I(0x1c4,'7QlR'),'gZclp':function(i1i11l,i1i11i){return i1i11l(i1i11i);},'rIxEF':function(II11l1,Iil1lI){return II11l1===Iil1lI;},'QJTmM':lill1I(0x155,'Xvts'),'WQsAT':lill1I(0x1bf,'OE%$'),'ODGxk':lill1I(0x1ac,'9ofA'),'LdEjg':'GET','UhSmh':lill1I(0x138,'OE%$'),'nOhMV':function(IiiliI,iii1iI){return IiiliI(iii1iI);},'QNJwG':lill1I(0x15b,'hp9@'),'GDqmg':lill1I(0x236,'Or2!'),'OPqfO':lill1I(0x178,'PbxJ'),'hStnR':lill1I(0x1e4,'@5jo'),'QEygJ':lill1I(0x181,'7QlR'),'sbuUi':lill1I(0x1f4,'Obsp'),'ViOew':lill1I(0x146,'zgxi'),'nVERN':lill1I(0x1b8,'ku1j'),'eEivN':lill1I(0x151,'b7v)'),'BEQJC':function(llIll,il1iII){return llIll<il1iII;},'cnGqs':function(iilli,IlllIl){return iilli!==IlllIl;},'OeRhd':lill1I(0x1ba,'9ofA'),'acQWL':function(II11lI,lI1IIi){return II11lI>lI1IIi;},'BGtHy':lill1I(0x1ed,'OE%$'),'gOwKF':function(I1l11I,Ilil1l){return I1l11I===Ilil1l;},'NgDoZ':lill1I(0x1f5,'@5jo'),'warsL':'Timeout\x20awaiting\x20\x27request\x27','vyfro':lill1I(0x1b0,'lkx@'),'KUNnX':lill1I(0x1f3,']XKp'),'XDiIB':lill1I(0x212,'n]P('),'wGHxO':lill1I(0x1ae,'7QlR'),'BcanJ':function(iIIiii,iilll){return iIIiii||iilll;},'gyFup':lill1I(0x1d5,'@x^G'),'wizDv':function(il1iI1,IlllIi){return il1iI1||IlllIi;},'ZtYln':'无响应数据','RrADl':function(iIIiil,i1l1Ii){return iIIiil>=i1l1Ii;},'wiYnD':function(I1iIIi,I1iIIl){return I1iIIi!==I1iIIl;},'MESEL':lill1I(0x1a5,'QR4e'),'MaxfF':lill1I(0x189,'3dT)'),'TDljF':lill1I(0x1a2,'zGq1')};if($['runEnd']||$[lill1I(0x213,'Obsp')])return;let ililIl='',liiI1l='',i1l1II=lilIIl[lill1I(0x14b,'7QlR')];switch(ililIi){case lilIIl['UhSmh']:liiI1l={'completionFlag':!![],'sourceCode':lill1I(0x1ca,'6T2&'),'encryptProjectId':$[lill1I(0x147,'Iws3')],'encryptAssignmentId':$[lill1I(0x13c,'5eXC')]},ililIl=lill1I(0x13f,'Q%fa')+lilIIl[lill1I(0x167,'1xlG')](encodeURIComponent,JSON[lill1I(0x239,'s%]S')](liiI1l));break;default:console[lill1I(0x1cd,'nftx')](lill1I(0x218,'b7v)')+ililIi);return;}const i1ill={'url':ililIl,'headers':{'Accept':lilIIl[lill1I(0x194,'ku1j')],'Accept-Encoding':lilIIl['GDqmg'],'Accept-Language':lilIIl[lill1I(0x16f,'@5jo')],'Connection':lilIIl[lill1I(0x1fd,'ku1j')],'Content-Type':lilIIl[lill1I(0x14f,'nftx')],'Cookie':lI1lll,'Origin':lill1I(0x1e7,'3dT)'),'Referer':lilIIl[lill1I(0x1fe,'Obsp')],'x-rp-client':lill1I(0x1e3,'6rvL'),'Sec-Fetch-Dest':lilIIl['ViOew'],'Sec-Fetch-Mode':lilIIl[lill1I(0x1db,'lkx@')],'Sec-Fetch-Site':lilIIl['eEivN'],'User-Agent':$['UA']},'timeout':0x7530},I1l11l=0x1;let lilIIi=0x0,i1l1Il=null,llIli=![];while(lilIIl['BEQJC'](lilIIi,I1l11l)){if(lilIIl[lill1I(0x139,'B1qh')](lilIIl[lill1I(0x1e5,'g$Wq')],lilIIl[lill1I(0x172,'Or2!')]))ii1I11?IillIi=lii[lill1I(0x1e8,'nftx')](IllI1i)||'':i11I1l['log'](lilIIl['XPreZ']);else{if(lilIIl[lill1I(0x14c,'PbxJ')](lilIIi,0x0)){if(lill1I(0x195,'@x^G')===lilIIl[lill1I(0x17b,'b7v)')])await $[lill1I(0x135,'F#Ky')](0x3e8);else{const Iil1li={'JCtcq':function(Iiilil,Iil1ll){const Ii1ii1=lill1I;return lilIIl[Ii1ii1(0x156,'xQOD')](Iiilil,Iil1ll);}};IiiIil['post'](IiiIii,(iillI,lI1III,IIliIi)=>{const Ilil11=lill1I;Iil1li[Ilil11(0x22e,'7QlR')](liliI,{'err':iillI,'res':lI1III,'data':IIliIi});});}}const {err:i1ilI,res:iii1lI,data:i1ilI1}=await illIii(i1ill,i1l1II);if(i1ilI){if(lilIIl[lill1I(0x19d,'@5jo')](typeof i1ilI,lilIIl[lill1I(0x197,'fLWg')])&&i1ilI[lill1I(0x20c,'OE%$')](lilIIl[lill1I(0x1a0,'g$Wq')])){if(lilIIl[lill1I(0x1ef,'Or2!')](lilIIl[lill1I(0x1c6,'7g2H')],'toqZg')){if(lilIIl[lill1I(0x193,'5eXC')](iii1I1?.[lill1I(0x168,'C)%y')]?.[lill1I(0x191,'7g2H')],0x0))lI1Il1[lill1I(0x211,'6T2&')](lilIIl[lill1I(0x19e,'B1qh')]);else{let i1il1=lilIi1?.['rewardsInfo']?.[lill1I(0x1ce,'&pJH')][0x3][0x0]?.[lill1I(0x206,'ku1j')]||IiilII['rewardsInfo']?.['successRewards'][0x3][0x0]?.[lill1I(0x175,'WM&O')]||'空气';IliI1I['log'](lilIIl['WQsAT']+i1il1);}}else i1l1Il=ililIi+'\x20请求超时，请检查网络重试';}else{const I1l111=iii1lI?.['statusCode'];if(I1l111){if([0x193,0x1ed][lill1I(0x237,'C)%y')](I1l111))lilIIl[lill1I(0x153,'&pJH')]!==lilIIl[lill1I(0x1c8,'Obsp')]?(i1l1Il=ililIi+'\x20请求失败，IP被限制（Response\x20code\x20'+I1l111+'）',llIli=!![]):l1iiI[lill1I(0x219,'7g2H')]['fix'](ll1li);else[0x190,0x194]['includes'](I1l111)?i1l1Il=ililIi+'\x20请求配置参数错误，请联系开发者进行反馈（Response\x20code\x20'+I1l111+'）':i1l1Il=ililIi+lill1I(0x19f,'F#Ky')+I1l111+'）';}else i1l1Il=ililIi+lill1I(0x160,'%pBd')+(i1ilI[lill1I(0x1d8,'QR4e')]||i1ilI);}lilIIi++;}else{if(lilIIl['cnGqs'](lilIIl[lill1I(0x207,'b7v)')],lill1I(0x1e2,'C)%y')))iii1Il['log'](lI1IiI[lill1I(0x15a,'s%]S')]);else{const liiI11=li1i1l['getResponseCookie'](iii1lI),ililI1=![];ililI1&&(console['log'](lill1I(0x161,'zgxi')),console[lill1I(0x176,'6rvL')](lill1I(0x23c,'ku1j')+ililIi+lill1I(0x13d,'PbxJ')+lilIIl['BcanJ'](i1ilI1,'无')+'\x0a'),console['log'](lill1I(0x1ee,'B1qh')+ililIi+lill1I(0x1a7,'e23U')+lilIIl['BcanJ'](liiI11,'无')+'\x0a'),console['log']('🔧\x20'+ililIi+lill1I(0x1ff,'Xvts')),console[lill1I(0x229,'e23U')](i1ill),console[lill1I(0x134,'hp9@')](lilIIl[lill1I(0x1d6,'@5jo')]));try{let IIii1i=JSON[lill1I(0x131,'@x^G')](i1ilI1);iiiliI(ililIi,IIii1i);break;}catch(i1ili){i1l1Il='❌\x20'+ililIi+'\x20接口响应数据解析失败:\x20'+i1ili['message'],console[lill1I(0x1d9,'%pBd')](lill1I(0x12d,'OE%$')+ililIi+lill1I(0x1b4,'qUwW')+String(lilIIl['wizDv'](i1ilI1,lilIIl['ZtYln']))),lilIIi++;}llIli=![];}}}}if(lilIIl['RrADl'](lilIIi,I1l11l)){console['log'](i1l1Il);if(llIli){if(lilIIl['wiYnD'](lilIIl[lill1I(0x22b,'QR4e')],lilIIl[lill1I(0x17a,'PbxJ')]))lilIl1[lill1I(0x226,'@x^G')](i1l1ii['name'],lill1I(0x240,'3dT)')),i1l1[lill1I(0x23e,'%pBd')](0x1);else{$[lill1I(0x21e,'B1qh')]=!![];if($[lill1I(0x22f,'n]P(')]){if(lilIIl[lill1I(0x13a,'Obsp')](lilIIl[lill1I(0x14a,'qUwW')],lilIIl[lill1I(0x174,'zgxi')]))$[lill1I(0x141,'WM&O')][lill1I(0x1e9,'Iws3')](i1l1Il);else{IiilI1[lill1I(0x16c,'3dT)')](lilIIl[lill1I(0x192,'&pJH')]);return;}}}}}}async function illIii(lilII1,iill1=iliIiI(0x215,'OE%$')){const i1ii1=iliIiI,iii1l1={'wpttL':function(IIliIl,II11ll){return IIliIl(II11ll);},'KPEzU':i1ii1(0x23d,'9ofA'),'fOkDy':i1ii1(0x21a,'OE%$')};if(iill1===iii1l1[i1ii1(0x224,'g$Wq')])return new Promise(async liiI1I=>{const il1ii=i1ii1;$[il1ii(0x1c0,'hp9@')](lilII1,(ililII,lI1II1,i1ilII)=>{const llI111=il1ii;iii1l1[llI111(0x1f1,'Obsp')](liiI1I,{'err':ililII,'res':lI1II1,'data':i1ilII});});});else{if(iill1===iii1l1[i1ii1(0x19c,'7g2H')])return new Promise(async iIIii1=>{const IllIi1={'wxAbo':function(lilIII,Ii1ilI){const i1iIiI=iii1II;return iii1l1[i1iIiI(0x17e,'J2kz')](lilIII,Ii1ilI);}};$['get'](lilII1,(II11i1,iliIil,iliIii)=>{const IlllI1=iii1II;IllIi1[IlllI1(0x1e0,'7QlR')](iIIii1,{'err':II11i1,'res':iliIil,'data':iliIii});});});else{if(i1ii1(0x188,'J2kz')!=='SSNNd')i1l1I['log'](IiilIi[i1ii1(0x140,'B1qh')]);else{const il1li='不支持的请求方法';return{'err':il1li,'res':null,'data':null};}}}}function ii1il1(iIIill,iilii){const I1il11=iliIiI,Ill11i={'TwPdE':function(iilil,Ill11l){return iilil+Ill11l;},'JxPpZ':function(il1ll,i1ilIi){return il1ll-i1ilIi;}};return Ill11i['TwPdE'](Math[I1il11(0x223,'b7v)')](Math[I1il11(0x18b,'3dT)')]()*Ill11i['JxPpZ'](iilii,iIIill)),iIIill);}function lI1llI(lill1l){const lI1l11=iliIiI,l1l1i1={'reHUx':lI1l11(0x12f,'QR4e'),'VBcnQ':'AUDhB','aKPie':'ehBxl','aZWag':function(i1iiI,i1ilIl){return i1iiI!==i1ilIl;},'raJMt':'tkgeR','sWzcE':function(llI11I,Il1i11){return llI11I!==Il1i11;},'YHliJ':lI1l11(0x17c,'PbxJ'),'yuWkI':lI1l11(0x18d,'Q%fa')};return new Promise(iii1li=>{const II11l=lI1l11,Iil1i1={'jdmvh':function(IIii11,iliIl1){return IIii11+iliIl1;},'SUooD':l1l1i1[II11l(0x12c,'obTs')],'lNyMg':II11l(0x235,'1xlG'),'puWRF':function(Ii1il1,iii1ll){return Ii1il1!==iii1ll;},'vigOi':l1l1i1['VBcnQ'],'Labst':'ckXIb','mIvEq':l1l1i1[II11l(0x1e6,'xQOD')],'TdlEn':function(IIliI1,il1lI){const II11i=II11l;return l1l1i1[II11i(0x1a8,'WM&O')](IIliI1,il1lI);},'hIvqZ':l1l1i1[II11l(0x20d,'e23U')],'MDkMm':function(IliIIl,I1il1l){return IliIIl(I1il1l);}};if(l1l1i1[II11l(0x1ad,'m9^5')](l1l1i1['YHliJ'],II11l(0x1e1,'WM&O')))i1II1=iIIl11+'\x20请求配置参数错误，请联系开发者进行反馈（Response\x20code\x20'+l1l1I1+'）';else{const IIliII={'url':''+lill1l,'timeout':0x2710,'headers':{'User-Agent':l1l1i1[II11l(0x1c9,'(y[S')]}};$[II11l(0x171,'Obsp')](IIliII,async(iiliI,Ill11I,I1il1i)=>{const iI1Iii=II11l,IliIIi={'NJHRd':function(lI1l1i,i1iil){return lI1l1i+i1iil;}};if(iI1Iii(0x1f8,'n]P(')===Iil1i1[iI1Iii(0x1c2,'zgxi')])try{if(iiliI){}else{if(Iil1i1[iI1Iii(0x173,'obTs')](Iil1i1[iI1Iii(0x150,'Q%fa')],Iil1i1['Labst']))I1il1i?iI1Iii(0x233,'qUwW')!==Iil1i1[iI1Iii(0x1fa,'qUwW')]?I1il1i=JSON[iI1Iii(0x179,'2LBK')](I1il1i)||'':(IlI1Il['logErr'](l1il1l,liIil),IllI1I=null):console[iI1Iii(0x211,'6T2&')](iI1Iii(0x14d,'WM&O'));else{let i1iii=i1iliI?.[iI1Iii(0x162,'qUwW')]?.['successRewards'][0x3][0x0]?.[iI1Iii(0x17f,'7g2H')]||I1iIii[iI1Iii(0x19a,'6T2&')]?.['successRewards'][0x3][0x0]?.[iI1Iii(0x23f,'F#Ky')]||'空气';IllII1[iI1Iii(0x23a,'zGq1')](Iil1i1[iI1Iii(0x20a,'xQOD')](Iil1i1['SUooD'],i1iii));}}}catch(I1llIi){if(Iil1i1[iI1Iii(0x198,'ku1j')](Iil1i1[iI1Iii(0x18e,'^$[i')],'AmSAl'))$['logErr'](I1llIi,Ill11I),I1il1i=null;else return IliIIi[iI1Iii(0x149,'ku1j')](Iiill[iI1Iii(0x133,'Iws3')](l11i1i['random']()*(lI11I1-l1il11)),IiI1);}finally{Iil1i1[iI1Iii(0x1b3,'nftx')](iii1li,I1il1i);}else ll1i1[iI1Iii(0x1f0,'lkx@')](IIli1i),I1iIi1&&(ll1l1[iI1Iii(0x14e,'F#Ky')]=!![],IllIIi['message']&&l1ii1[iI1Iii(0x15e,'obTs')][iI1Iii(0x1a6,'@5jo')](ii1ll));});}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
