/*
活动名称：积分兑换 · 京耕
活动链接：https://jinggeng-isv.isvjcloud.com/ql/front/showSign?id=<活动id>&user_id=<店铺id>
环境变量：jd_jinggeng_exchangeActDetail_url // 活动链接
         jd_jinggeng_exchangeActDetail_Notify // 是否通知（true/false），默认不通知
         默认不入会，没有入会就没有积分


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#积分兑换 · 京耕
1 1 1 1 * jd_jinggeng_exchangeActDetail.js, tag=积分兑换 · 京耕, enabled=true

*/

const $ = new Env('积分兑换（京耕）')
var iｉl='jsjiami.com.v7';const l1iIlI=iii1II;(function(l1i1Il,ill1I1,l1i1II,ili111,Ii1I11,IllIli,ii1Ii){return l1i1Il=l1i1Il>>0x1,IllIli='hs',ii1Ii='hs',function(ii1Il,l1iII,iI1Ill,lilI1,IIIi1){const ii1il=iii1II;lilI1='tfi',IllIli=lilI1+IllIli,IIIi1='up',ii1Ii+=IIIi1,IllIli=iI1Ill(IllIli),ii1Ii=iI1Ill(ii1Ii),iI1Ill=0x0;const i1llli=ii1Il();while(!![]&&--ili111+l1iII){try{lilI1=-parseInt(ii1il(0x31d,'n%XF'))/0x1+parseInt(ii1il(0x226,'DT(p'))/0x2*(-parseInt(ii1il(0x173,'8HGC'))/0x3)+-parseInt(ii1il(0x1c3,'DT(p'))/0x4+-parseInt(ii1il(0x1a4,'RTa8'))/0x5*(parseInt(ii1il(0x270,'D8BQ'))/0x6)+parseInt(ii1il(0x302,'Ov1['))/0x7+parseInt(ii1il(0x1e6,'fFHy'))/0x8*(-parseInt(ii1il(0x29a,'G4*f'))/0x9)+-parseInt(ii1il(0x303,'25*Y'))/0xa*(-parseInt(ii1il(0x1ff,'zBbm'))/0xb);}catch(i1llll){lilI1=iI1Ill;}finally{IIIi1=i1llli[IllIli]();if(l1i1Il<=ili111)iI1Ill?Ii1I11?lilI1=IIIi1:Ii1I11=IIIi1:iI1Ill=IIIi1;else{if(iI1Ill==Ii1I11['replace'](/[DNebPnTYLJVflXWCOMdhA=]/g,'')){if(lilI1===l1iII){i1llli['un'+IllIli](IIIi1);break;}i1llli[ii1Ii](IIIi1);}}}}}(l1i1II,ill1I1,function(iI1Ili,llIIiI,iI1111,IIIl1,ii1ii,Iii1,I1I1lI){return llIIiI='\x73\x70\x6c\x69\x74',iI1Ili=arguments[0x0],iI1Ili=iI1Ili[llIIiI](''),iI1111=`\x72\x65\x76\x65\x72\x73\x65`,iI1Ili=iI1Ili[iI1111]('\x76'),IIIl1=`\x6a\x6f\x69\x6e`,(0x15070c,iI1Ili[IIIl1](''));});}(0x190,0x20b78,Iii11l,0xca),Iii11l)&&(iｉl=`\x298`);const liiI11=require(l1iIlI(0x1a7,']%#l')),ililI1=require(l1iIlI(0x2b5,'Ra[p')),IIii1i=require(l1iIlI(0x221,'DT(p')),i1ili=require(l1iIlI(0x19e,'N]vB')),{jinggeng_savePrize:Iiill1}=require(l1iIlI(0x1c4,'nVP0'));global_agent_http_proxy_isopen=!![],require(l1iIlI(0x16b,'Ov1[')),global[l1iIlI(0x1c8,'YS(0')][l1iIlI(0x1d7,'nVP0')]=l1iIlI(0x2f2,'fr%d'),console[l1iIlI(0x232,'FvQz')](''),console[l1iIlI(0x2ce,'3XK^')]('=========='+$[l1iIlI(0x1d8,'R37p')]+l1iIlI(0x2b7,'%0!E')),console['log'](l1iIlI(0x1fd,'fFHy')),console[l1iIlI(0x2d7,'h1VC')](l1iIlI(0x31e,'R37p')),console[l1iIlI(0x1f8,'R37p')](l1iIlI(0x1a2,'mBr@')+$[l1iIlI(0x305,'#*7y')]+l1iIlI(0x2cd,'XzlG')),console[l1iIlI(0x1da,'DT(p')]('');const I1iII1=process[l1iIlI(0x2a7,'G4*f')][l1iIlI(0x1c9,'fr%d')]||l1iIlI(0x235,'JNIc'),lilII1=process['env']['jd_jinggeng_exchangeActDetail_opencard']==='true',iill1=process[l1iIlI(0x254,'vx92')][l1iIlI(0x234,'YS(0')]===l1iIlI(0x172,']*!t');let iii1l1=iliIil(0x20,l1iIlI(0x225,'^Cqm')),IIliIl=iliIil(0x1,l1iIlI(0x247,'UcIP'))+'-'+iliIil(0x4,'1234567890')+'-'+iliIil(0x4,'1234567890')+'-'+iliIil(0x5,l1iIlI(0x2fd,'CpDu'));const II11ll={'JD_BEAN':'[京豆]','JD_POINT':l1iIlI(0x1f0,'90r)'),'JD_GOODS':l1iIlI(0x181,'JNIc'),'JD_COUPON':l1iIlI(0x32c,'F#*1'),'JD_J_COUPON':'[优惠券]','JD_D_COUPON':'[优惠券]','JD_AIQIYI':'[爱奇艺]','JD_PLUS':'[PLUS会员]','JD_E_CARD':'[E卡]','JD_REDBAG':l1iIlI(0x2a8,'RTa8'),'-1':'[谢谢参与]'};let liiI1I=null,ililII='',lI1II1='',i1ilII='';function iii1II(_0x441419,_0x3e29d3){const _0x4f91e2=Iii11l();return iii1II=function(_0x406d83,_0x796416){_0x406d83=_0x406d83-0x160;let _0x345c89=_0x4f91e2[_0x406d83];if(iii1II['WtJhML']===undefined){var _0x46c7d3=function(_0x208aa8){const _0xda755='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xf310a6='',_0x38020c='';for(let _0x220944=0x0,_0x33dab1,_0x88acf0,_0x463ee2=0x0;_0x88acf0=_0x208aa8['charAt'](_0x463ee2++);~_0x88acf0&&(_0x33dab1=_0x220944%0x4?_0x33dab1*0x40+_0x88acf0:_0x88acf0,_0x220944++%0x4)?_0xf310a6+=String['fromCharCode'](0xff&_0x33dab1>>(-0x2*_0x220944&0x6)):0x0){_0x88acf0=_0xda755['indexOf'](_0x88acf0);}for(let _0x36ac15=0x0,_0x5e723b=_0xf310a6['length'];_0x36ac15<_0x5e723b;_0x36ac15++){_0x38020c+='%'+('00'+_0xf310a6['charCodeAt'](_0x36ac15)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x38020c);};const _0x465d14=function(_0x52944f,_0x3b4d71){let _0x13c1a8=[],_0x2bcdc3=0x0,_0x55bab6,_0xfa5d6a='';_0x52944f=_0x46c7d3(_0x52944f);let _0x1ecc35;for(_0x1ecc35=0x0;_0x1ecc35<0x100;_0x1ecc35++){_0x13c1a8[_0x1ecc35]=_0x1ecc35;}for(_0x1ecc35=0x0;_0x1ecc35<0x100;_0x1ecc35++){_0x2bcdc3=(_0x2bcdc3+_0x13c1a8[_0x1ecc35]+_0x3b4d71['charCodeAt'](_0x1ecc35%_0x3b4d71['length']))%0x100,_0x55bab6=_0x13c1a8[_0x1ecc35],_0x13c1a8[_0x1ecc35]=_0x13c1a8[_0x2bcdc3],_0x13c1a8[_0x2bcdc3]=_0x55bab6;}_0x1ecc35=0x0,_0x2bcdc3=0x0;for(let _0x5beefd=0x0;_0x5beefd<_0x52944f['length'];_0x5beefd++){_0x1ecc35=(_0x1ecc35+0x1)%0x100,_0x2bcdc3=(_0x2bcdc3+_0x13c1a8[_0x1ecc35])%0x100,_0x55bab6=_0x13c1a8[_0x1ecc35],_0x13c1a8[_0x1ecc35]=_0x13c1a8[_0x2bcdc3],_0x13c1a8[_0x2bcdc3]=_0x55bab6,_0xfa5d6a+=String['fromCharCode'](_0x52944f['charCodeAt'](_0x5beefd)^_0x13c1a8[(_0x13c1a8[_0x1ecc35]+_0x13c1a8[_0x2bcdc3])%0x100]);}return _0xfa5d6a;};iii1II['nkOkML']=_0x465d14,_0x441419=arguments,iii1II['WtJhML']=!![];}const _0xf0eaf7=_0x4f91e2[0x0],_0x53ee98=_0x406d83+_0xf0eaf7,_0x480ddd=_0x441419[_0x53ee98];return!_0x480ddd?(iii1II['udjqhT']===undefined&&(iii1II['udjqhT']=!![]),_0x345c89=iii1II['nkOkML'](_0x345c89,_0x796416),_0x441419[_0x53ee98]=_0x345c89):_0x345c89=_0x480ddd,_0x345c89;},iii1II(_0x441419,_0x3e29d3);}const iIIii1=Object['keys'](liiI11)[l1iIlI(0x26b,'XL8q')](iliIii=>liiI11[iliIii])[l1iIlI(0x1b0,'XeDh')](lill1i=>lill1i);!iIIii1[0x0]&&($[l1iIlI(0x29f,'vx92')]($['name'],l1iIlI(0x2aa,'fFHy')),process['exit'](0x1));!(async()=>{const iI111I=l1iIlI,il1li={'tRlfs':iI111I(0x1d6,'mKa8'),'qzwOO':iI111I(0x28d,'n%XF'),'sqFpo':iI111I(0x30f,']yj#'),'DzwBr':'⚠\x20请填写格式正确的变量','kJAJz':function(iilii,Ill11i){return iilii+Ill11i;},'xjeud':'活动入口：','jnGBT':function(iilil,Ill11l){return iilil!==Ill11l;},'SfPCW':'rnchR','iGMbj':function(il1ll,i1ilIi){return il1ll+i1ilIi;},'irKOV':function(lill1l,l1l1i1){return lill1l(l1l1i1);},'RbGGx':iI111I(0x25a,'D8BQ'),'EjRbC':iI111I(0x1fa,'VO^3'),'yrSFG':function(i1iiI,i1ilIl){return i1iiI*i1ilIl;},'BIlXw':function(llI11I){return llI11I();}};if(!I1iII1){console[iI111I(0x2fe,'#*7y')](iI111I(0x287,')e!x'));return;}const iIIill=ililI1[iI111I(0x1f6,'FvQz')](I1iII1);if(!iIIill){console[iI111I(0x280,'zy]r')](il1li[iI111I(0x17d,'kPG!')]);return;}$[iI111I(0x309,'n%XF')]=I1iII1,$[iI111I(0x2f0,'vx92')]=ililI1[iI111I(0x29b,'RTa8')](I1iII1,il1li[iI111I(0x20d,'DT(p')])||ililI1[iI111I(0x1f5,'G4*f')](I1iII1,'id'),$['venderId']=ililI1[iI111I(0x1de,'iT4P')](I1iII1,iI111I(0x1f4,'kPG!'))||ililI1[iI111I(0x257,'mKa8')](I1iII1,il1li[iI111I(0x1f2,'mBr@')]),$[iI111I(0x212,'P#&i')]=iIIill[iI111I(0x1e2,']%#l')],$[iI111I(0x2f5,'8HGC')]=iIIill[iI111I(0x231,'XeDh')],$[iI111I(0x27b,'kPG!')]=iI111I(0x2db,'XzlG')+$['hostname'];if(!$[iI111I(0x160,'Ok]X')]||!$[iI111I(0x327,'XL8q')]||!$[iI111I(0x297,'G4*f')]){console[iI111I(0x1da,'DT(p')](il1li['DzwBr']);return;}IIii1i['config']({'title':$['name']}),console['log'](il1li['kJAJz'](il1li['xjeud'],$['activityUrl']));for(let Il1i11=0x0;Il1i11<iIIii1[iI111I(0x17b,'%0!E')];Il1i11++){if(il1li[iI111I(0x286,'P#&i')](il1li[iI111I(0x19a,'2wsl')],il1li[iI111I(0x30c,']*!t')]))llIlll=lliii1+iI111I(0x293,'mBr@')+Iiii1+'）';else{$['index']=il1li['iGMbj'](Il1i11,0x1),ililII=iIIii1[Il1i11],i1ilII=iIIii1[Il1i11],ililI1[iI111I(0x271,'25*Y')](i1ilII),$[iI111I(0x24e,'&MUj')]=il1li[iI111I(0x26e,'z#Zd')](decodeURIComponent,ililI1[iI111I(0x17a,'h1VC')](ililII,il1li[iI111I(0x1a6,'UcIP')])),$['UA']=ililI1[iI111I(0x25c,'fr%d')]($['UserName']),$[iI111I(0x189,'YS(0')]=ililI1[iI111I(0x22c,'DT(p')](il1li[iI111I(0x23a,'vx92')]),$['te']=Math[iI111I(0x222,'UcIP')](il1li[iI111I(0x1ab,'VO^3')](Math[iI111I(0x2b1,'3XK^')](),0x2328))+0x3e8,$[iI111I(0x341,'Ov1[')]=IIii1i[iI111I(0x16f,'2wsl')]($['index'],$[iI111I(0x19b,'mBr@')]),$['nickName']='',console[iI111I(0x1b4,'nVP0')]('\x0a******开始【京东账号'+$[iI111I(0x331,'Ok]X')]+'】'+($[iI111I(0x184,'Ra[p')]||$['UserName'])+'******\x0a'),await il1li[iI111I(0x2fb,'Ra[p')](IllIi1),ililI1[iI111I(0x1ad,'iT4P')]();if($[iI111I(0x239,'kPG!')]||$[iI111I(0x2a4,'XL8q')])break;}}iill1&&IIii1i['getMessage']()&&(IIii1i['updateContent'](il1li[iI111I(0x24c,']*!t')](IIii1i[iI111I(0x261,'XL8q')],'\x0a【活动地址】'+$[iI111I(0x337,'Ov1[')])),await IIii1i['push']());})()['catch'](Iil1i1=>$[l1iIlI(0x29e,'3XK^')](Iil1i1))[l1iIlI(0x28e,']yj#')](()=>$[l1iIlI(0x1b8,'#*7y')]());function Iii11l(){const IIIii=(function(){return[...[iｉl,'bVjJsfNTjeiaWeXmOih.NcDoAnDmdM.vL7PYhlTC==','eKOZW4HrmSkG','x8kDwmoNqSk8W7PF','8jk9UWVdG2dcImoe5lYG5zcc','W6ZdJmkF','W5afW67dPgu','W5xcVYJdMY8','f8kZCmoKWOKPtSopW50','WQGEWRZcQCo1','tCkAy8odDa','WO47WPZcVmoz','aSkUEG','W6fyxCoqjG','W4NcLaBdNZe','W5VcH0z3WRZdOSoW','W7L1W6rujue','W6lcQ3zfWRFdGSotcG','WR5hj8knkxNdHL4CxSoTW6VcMWz4kKddHSohW7byjtJdOwVcKSkx','ESkoFctcLW','W7O3ra','i3Linw4','W6XVW73dPmkAmSo1WRCyW4r9W4nxqmo2gmkzWRmDr8oVW7tdRsFcL2OYWPZdGmklWQmJWQ3dIGbk','WQvAh8ksghddGYe','uCoMW6dcNa0','W4dcSGpdUXJdJ8oThWW','bCorWP9tW7dcGay','nmknW6BdTSoyW7xdUSkZxmkGW6C','5P2C5AcB5z6R5z2V','W7CnpmkSnxZdKq','sCoFWR3cH8kNogO','WQXGWPJcGrddJCkTge/dP8o/uZ8','BCkFEhpcMq','xmoMW5W','W6b6W6nzovtcKxm','eh5I','o/c3VjFVU7q','f3xcUwldTviOyX/cLhJcPCkVkSotmSk9W7j0W7BdHNqAmhhdKLKLW6JdLSkTWPT5W6lcPwi','WRneBcddOc43W49uW4H+cWVdJCobxZhcQYlcHCkwW57dUtCEW4lcOmkxds3cLqXfW7reWPpdRmkKW5dcVCo6wmkasSovWRrUWR06W7KMW60UWOFcPSkTW7ZdNbxcGwfjAr3dISo4DY7dUcvEW5NcHSo2W7v8kJNdQ3SeWPGgmwuUDg3cMSoWW5L9E8ogvbJdOCoEi8kgzIKhW4JdHCofW4FcOfldN2GtWR9+W5xcIahcKa','zuTWlWDGW7q','a1u/WQWmq8kNj8ouW7mM','W73ORQRMSOZLP6hOTORVViZcKmoQuSkey8oAqvFcOGlcG8k+fXC','tmo3W5BdHCo8F20','A8kKt8kxiq','h1vPe0W','hwzKW63dHCk8W5HGEa','FCk2DmoszCkmW55JeW','uCoUqmkIhCo5A8kHW7CYWQa','8yMwU++7RfRKVjBMGzxLIz8','dmkayCoDWQ0','56sY5yMB5yYH5yAb5O+ndUA3UEwiP+INPEwlRE+8LSk+','W6xdT8k6WRlcIa','W7v9W69yoW','DSogW7VcIcGsba','y8knySoasvLv','W6a3aSktdmo4','lCoqih/dKe3dGtlcVve','wdOK','dsO/WR1wrSodW5bl','gH/dVa','vCooW63dImox','ggiqW55E','WO3MI5JKU4JLRQZNIAtcUW','nSkKeSoJymo0vmkn','eKnYvmoMimkoWOddTSof','AmktyMxcJW4','WPSfWO0oA8oBeZqHWOG+W5S','DwGkv3O','W7eTwW','s8kGAW','qmksWRBdR8kCW70','naGjW57cKCoZW6yoWQW','W58/CsVcQgxdId5SW5JdKwnuW5SF','WPxcSWldTWtdOCoGra','t8oTW4u','W7ddL8kNWONcT8o0','WOqJo8ogWQVcTxVdLa','W7S7uSkfWQq','hCklW7rEcGzt','8jcEOem','WRWQWQ/cOSolsSkJW6je','WRDFFW','WODAWR8kW4JcUhq','WRZORQNMSB7LP6hOT4blzmohWOK','4PQAWPtORkpLHR/LRA/KUitLV4hOPyBNMB/NJylLOORLJjJPH4dLKAhLHP3OVjVOO67OH6dMNR0','l8keyCoJWQm','fe51b2u','wtaWW7vlW5qK','8jkpNo+5JmkM57Qi5y62772B','q+ISOoAWTEI0LoAxMo++MEIVJUAGQoADSoE8KUE4HEMgSEISTW','s8kHCmoIWOK6cmoAW4f/WOuFWQZcJmkFvCk8','cNbPW6RdHa','WOLuWQe','W7ueWOTwySo2','8lUuVmk3','yvXieZa','5P6O6ioY6i675y2V55wN5OUS6yM+5P+u5l6Z5Ogv772/','WRhcM8obW4/cK8oBWOJdMIXI','bXpcKaPAztxdI8kp','WOWyWP7cLSo8','tmofW4VcOrK','kCkem8oEyW','WO1KvaJdVW','W7CnjG','u8oYWOpcJG7dK3G','WPDqWQuZW4tcRK7cR3JdJa','W5lcKWBdVdi','WQKoWOe/vG','qCoJW5hdPSofBgy','z8ksWOldN8kp','umoqWOdcMmkEkgO','W67dRSktWRVcRq','WPFLK7tLUz/dSqlcGCoLWQlcKSkbW4q','WRqfWOq','y8knySoNxL1eWPL+dG','DSkhr8ojBq','WRrfBbBdV3v/','B8kxCcG','s8k2BSkIWOe8smohW5aKWQ0oWRFcQSkxwmkWmLVdIbRdPgVcICkzqHJcI8kMW5bbvWNdPq','xCkCBmorEa','4PINrEISKUwfUUwUL+s7KUw9R+INM+EyK+EnJUwGMowmRoMfGEwrL+wgVEI/OEIIVEIfV+ADLG','c1mIWOWo','W6FdISk9WOldR33cShW','8jIHKIZNQBVMS7q','W7pdImkrWONcJmoVWQ0','W5zAA8oAga','WOeVlmo6WQi','w0anCxpdQG8','W4NWRi+z','nCkFi8otwq','W6lcS3vCWO0','W5jbWQldHW','p+ISJEAXJUMfJoE+JUwoU+AvUEMxI+IULo+9O+IVNEIdU+EXQow9QowoLEIdLoI/OUIJTowmS+MKUU++NSk8W7/cSZvjWO/cSmk8cGnIhmkfWPK','WRlJGyRLUPlPKOtLK5FNP7NJGOL8','vCoNW4ZdP8o1Beme','B8oXW5FdISo7','W7NdGmkGWPldPg7cLh0','W4mcWO7dHui','BmkqWRFdJ8kU','WQJdMCkAWQ/dJ2dcGa','uZa3W5nyW58rW7PNut3cKmkyWQVdGW','aSkOBSoHWOG5DmobW4T7','W4vkwa','vSoBWRpcSSkhpW','q8k9EG','W7LaWQ7dSJ8','CgVdJmk5ca','WPruWQmnW4G','v8ohWRm','WPzaWR87W4pcSG','W5eVWORdRgtdO8kL','W6W2WRrbza','W7tdGCkL','B+E7T+wnHSoB','zCoZW6FdICoD','44kN5O+P56EX44kI6k6A5yAT6iYR5y2uW6ZdKmklWODSWQm','4P+DW6pOHipMNjNOVkNOO6/PG7NLIz/KURhPLOZORBeU','phzxjxNcRG','WQS4WQdcTmokDSklW6S','W64lWPzxF8oV','a1aZW7LAoa','W6THB8ovoSk/B8oK','smovWRRcK8kAia','WQdORztMSRRLKltLUyRcUG'],...(function(){return[...['orOgW4VcGCov','W78+W43dIW','rSkBWPLuW7JcIXbozv7dOKxdUSoBWPddP8oznWRcMComWPVdKW','CSonW6VcLZWrbmoR','5y2y6yAi6k2V5PUmwhlcU3pcPCoPWPJcUdpcRa','wSkxyCoaqa','fmkOCCo5','c2lcNeddTq','f1rjW7VdPa','W5ddT8keWPFdMG','W7biWRRdOce','W4tcJxzaWPS','W6e9WOH/Fq','WPVLUlJPKkNPKjJMJk/VVjxcKwWxW75zxCodW6FcO0NdUXJdOCoQe1/dP8kzr30NW5XrutFdMSoKcmklW5fXaW','jHChW5ZcU8oCW6Og','z8kiF8oIwW','5RwU5yQW5BEw57Qt5P2u77+w5lIP5Q+T5PE/54gI5P2A5zo6AG','W7y6Amk/WO4onW','W6hcRgPb','bCkWy8o/WOmDqSohW4bfWR0B','A8kazCoRwKa','b8obWPHMW73cHGq','CSkjAW','jHKbWOH9r8oMW64','W4e7WPxdRa','wSkbta','5O2J56E857QI5P+ns8kvWRLesmovyxBdRSo8','vSoBWRm','W7f5W7rvmLpdJcFdOmo8ACkRAav+ja','dJ/dMvDP','CSonW7VcNJSb','8kEeGtW','W6aLe8kagG','jSknAmo6WOi','WPj9WRCZW58','C8kvAW','adi5','W71+W6rcnLlcMq','j8keWRVdLCknW7VcR8kUua','v8ouWPJcRr0','W5VcSGxdOGxcKSkRvG','W5KTzaZcVL3dOs97','qCowWR4BjIb9EGBdLW','v8orWQFcHmkukMe','zCksiulcRLvZWRPahHFcN8k9uwJcTfFcLCkRW6hcRCkFWQFdSgSEW43cPSk3ereWsmooWO7cO8oljCkSlCoArmkJWQRcMLJdHG','arhdSLS','btmTWQPaFa','xmoDWQW','lH3cKZ5I','W6nSEmoqoCkYFSoUb0Gs','W7WHWRBdRKe','W5yAy8kAWROOfSkSW7KVW5S','s15kgqW','5RAM5yU55BwB57MH5P2/77+15lQE5Q2O5PE354c35P+k5zcBdG','W7aIW44','WRa4WR3cO8ooy8kN','hZy3WR9GFCom','WOe7oCobWQlcG3ddJKtdTxHS','hJWWWQTDzq','W4NcR8oz','h8oGW5dcVq','t8kTACkCfdbXhCofW5S','nmofW7RcLcCbtSo+WQHOW5ZcT8oYW7PLiMe','W7qQsmkGW59eDSksW5TvWQCxW5yCubS6amkMWQtdR10fW47dNYTqW5ZcMmoWyWdcOSk2jCkTgtSsWOKjqsu','uSo4WPC','8jE8I8kc5OoU5zsm6i6P5B6D5A++54MJza','W4mVWO3dOv/dSmkKWQW','W4K9W6pdL0e','W70KWPddUKa','8kcsUsxNQ6xMSRu','tSohWOveWQW','W7KgnSkCoa','kSo9WOb4W6y','W7nstSkuCYxcPa','WPtdSSknWOqki8oiW5BcRYG','oxDd','xSkCsmo/wCk5W7jj','WPpORRNMSRVPH4tNVz/LJzpMLRNPL5dOR5JVVlZOR5NOG6RNSzVLVBhLJ47OG5VOV67OOQNLJidPPl/VVA53nG3dNSk+p8kVWRimWRhdIx3dObG','WRNMTBxLIzhMN6JKU4FVVOVMTyhOG54','mmoaW6lcV8ouWR7dVSkloSk6WOfgW5C','qKxdKxSbog7dM8kaW6e9WQGN','WRPhEsldT1P5WO1B','o3Ljjq','DmkyWQldVmk2','xmoyWRVcMmkh','gf4HWQyiuG','WOeVlmoAWRdcUwhdMxxdIwe','WRi6WQaUyG','amkOyCo4WOORsCoD','iKmnW79J','W4hdTCkPWR7cSa','5Rwk5yQy5BAG57Iq5PYL','sfOgyKddRXi','f18+WQ8vuCkKimosW60','aGmUCuSQWRX3gmoZCGVcPX1iWRRcVHtdISkwCHhcS0xcSqemcY9Bj3KsASo9WQLmW5GgrxzndmoaW7FcGSohWP/cSahcL0qj','6i6S5y21W5pcRYyEbmo2WPRLPlxOTPu','u8oMW7FdSCoG','W7qjWQJdV2K','W4RdP8kNWQNcKSopWPa','WOLABcFdOq','WPaJk8ohWPFcVfddMepdK2XVoSkW','emkJbCo4qmoYumkoW6W','WOnqWQu7W4hcS23cO3xdK8o0WRVdUmo8','CgamzNe','4P2tW5RMNkBNN6tORjFMSlSP','4PY4vUAFJUIcToATLUEHPowLMUEsPmok','W5r6BCkdW77cHNNdHNldLvO','gSkkW5HhaG9rDrpdSYJdKrXpW4uJWQTWWQj7hIa5lmkUl8kwx8o4WRRdGgShWQBdJmo2hCkOW5VcVEAzHEwtOEMcKUEDTU+8RbeCWRmOW6yMWRHyWR3cS++8L++9QUM4U+IVS+s7LoMaKEEDLa','tCoRW4hdQmoEF2Cf','sM/dI8kMdq','uSorWRxcK8kqp3C','WQHBCsddGwf2','qZqQW7i','sSkQrWNcKG','c8kgfCo9ta','imkHW5r5','WPjqWR8AW4JcPeNcOG','W4nwsCkqrd7cVSkeEwVdLrG','WR4gWOWvFa','WQGTWQRcSCoByCkbW6bpWObPW5Pg','cNrRW7VdHmkaW6zKEq','p+s/N+AdOUwkTCk6','5lUn5AsA6ygc552w','WPCLnSoxWQNcPW','W68KW4FdT07cNq','W78SfW','W6Lxq8kbwq','WRfdFd/dVG','sCk/WQhdJCky','W7pcQCo4W5Hj','W5TwWQW','hYKSWPT/rColW4vGW4yphmkp','ymksWQhdO8kAW6dcVSk2omkUWRK','dtWyW5JcSq','tCoDWRRcK8kAoG','xgWhy3O','rqybW6fT','roISSoAXGowMVoI3GU+9GM7dUEIGJ+MzM+wlVU+9VSkgWQFcHuBcUdLPW45oW4nHWPNcNqS','WOOOdmoCWQ3cTxS','pKDoW7ldHW','ymkgWRtdUmkiW5RcR8kHcCksWQb4','6i+l5y+hxSolW47cMCoCy0dLPkpOT7S','BmkuWQBdUCknW67cRW','orap','W7KgiCkCmMe','rYeXW69eW5qOW71S','WQeRWRSatW','ASkbE8oR','W5blEmo/aa','W6fAu8knvZNcVSoqzhy','56AE5yIJ5ysm5O+E','j31jl33cV3lcO3/cTuS','5P666ikv6i+L5yYV55wO5OII6yUb5PYY5l6V5Ogu','na8yW4dcNmoEW6yxWQdcHciBuvqEvtZcKWddNgpdVYyZcIRcS8ofrmoHntqd','abSlW4tcVG','W4qNWPFdRv7dPG','wCoCWRxcHCk0oq','W5fwWQFdNWlcKSopW6RdGmop','wbqGW4rP','vSorWRRcKmkbjq','zSkDWRRdQmknW6xdP8kUcSk5WRTHWP7cVtJdQwS5hw3cU04','aSk0W51pka','frxcKaDuzZS','C8keWRVdJ8kcW60'],...(function(){return['W6f9ACoyo8k+','mCk9gSoZxa','zefK','bvCOW5K','WOf3W47cUGldVCkBWObvqvC','phzkjxNcKNBcGvO','CmknDa','fhtcLfRdKW','rdOWW7j7W58eW6n2wdhcM8klWQS','lIGVWR5X','WOjCWQK','cZGQWOXDz8ojW5rlW7Kng8ohFa','W6WIW7xcPreN','W6qjgCkneq','v8oqW47dPCoJ','W6aRh8kkpCoRW6NcHsjY','W7SuWPddUgS','bSkMCCoOWRi8sW','WOdLRQ7NIBen','8l+pJSk7','cwrzACor','bSoDWO9lW5/cHG4e','W77dMSkNWQddPM7cNG','W60WW5VdGuu','W4y/n8ogWRtcS3dcNrdcIG','W73ORQRMSOZLKj3LUlSK','ketcR0W','mwLpza','WQqNW6ddU2xcLSoS','cZGQ','WRWpWPazFmoCf20CWP4G','fpcQGBu','lmk4omo2xG','hKuMWOuwr8kq','W5y3ESk6WOG','g8oIWPH4W7S','8lkNQo+7Hmkt5l215Ocf5yQK','W6RcRSo/W79M','bunVu8oAjSkkWP3dUCotW68','W7i0uaRcSG','A8kvz2tcJG','yCkDEmoQFq','WRnvEttdTMzR','W5fPxmo6ga','sSkjAxpcRHHKWRC','huO6','W7fSW7zdm3VcNxVcTW','emk4WOxcIqBdMg7dP8kKWPZdMxNcNmohW5CwxSkpsSoP','W69QF8oklSk8BW','WPyPnSoxWQpcOLZdHa','WO8RWQS4Bq','iSohmtZdNuq0W69guG','x8kLq8oYtq','bwr1WRniW7y3W79Lyq','ECoSW7hcKY4','tSkavaZcNq','kaZdGmkqoxtcUdtdKCkw','8jIKQ++4GYhKV7JMGPNLIle','tLWaCW','bmoBWOS','la07W6RcSG','WR4iWPe1EW','D8kazCoRxhDFWO9Ca2m','W646W4ddGNlcJmo7','W7HOCSkIwa','W7zYW7TfmKC','ex7cGq','8lkQKSoR','ESklrCoIAq','duL7','W5iRW57dVxK','W6tdHSklWPRcRmoZWRpdHJvhW74','umkiqSoJamo9W7nFpgiEW5iDW55KBmk0','mxDkjq','WOxXJ4YH77Q/','uSkuqSo/xW','WP8WWR7cQSoa','cKn5qmkflSkwWOddPSoz','W6pdMSk/WOm','xmo9WPpcJca','W6KPW7JcRHaRW6m9','5Bsw5AgE5z+H5zY+','FCkvAhG','W6a2e8kz','WQzyA8ojDsFdHdyPA8oKW6C','tWLPrmobi8kjW4BdGSozW6ndW6XHW5reoXv8WOKDW5NcT1C','f0nYvmonpCkZWO0','B8klzCo9svnv','BCo1WPZcTCkw','oL3cQuRdNxaqrt3cV1hcRG','W7y6y8k6WOWfpSkEW4WoW7j4WOKpquPQwSoWW7pcNqTjW4RcI2ydWPVdHCkzlLZdVa','smkQsCokD3D/WRvNjuG','tmoIWP7cUahdKa','W7nDrmk0Ca','W6ldGSklWPZcI8oOWQ8','8kohOE+5NCoJ5l2I5Oog5yUp','W4xcQNrqWPBdLSokt1BdOSo/tCk6CSkYkCk1WORcHCkFn8kIuSkoW4mg','fKaPW7LyoCk5W64Sm2aPWRRcRq','W54VWO3dQLK','WQFORPlMSQFLJ7dMLB0','fbhdQePAW5f3','wsuiW4fo','5BIY6zc65zkZ56wa77YLnG','4PIyEUIVSUwGLEwfG+AGTEw+L+ASVoEHSoEyVEMrGUAoOW','kxjiymo3h8kOWQBdImoL','hSkpW6Pi','W61CBCk3tq','W7Whnq','hZK9WP9J','W7ZdPSksWQddOa','W68kWOHx','zCklySoBwLHGWOffc2SfWRrDkW','W69UEmoAjW','gs47WR17BmkF','B8o2W6BcNrm','BKZdMCkafhRcUJO','W7JcRwPqWOVdLW','DCkpF8o6','qSkHEG','WOyiW7RcGf3dKCkKW5pdVSowWRtcG0O','W5PCWRJdGaZcGSo5','W7RdVmkcWPxdOW','W645W4BdGM7cMmo4la','e3dcI20','fv8XWRyxq8kzpa','wSkxwmoGtCk6W7i','gYqVWQLmW4eUW7vHhYdcMSkFWRRdOc9qhIVcMmkfv8oipW','DMuzzwC','776D5BsX5OIj5yQQ6ist5yIl55Uf6k+F5Psb6lAY5z6U5z2KW4qr','W4RNPkZLIj9O','gWpdVa','BmklsNhcJW','W7qbWOzIxa','vSoXW4FdSCozEG','W7BdISkNWRpdUgpcQxKrW69haSkyWQ3cOG','dhb3W6ZdHmkNW4TH','buO2W5LA','hmkbW6a','s8o9WORcLXu','lqCqW5tcJCofW78BWRhcKZrmq18jq2JdIWZdGwpdS3e7hJpcOSotemk5z2nrW7VdNGFcG8kYySk5','8jktVwpNQ7ZMSl4','W6DBtSoYgq','W51DWPtdMqtcI8o7W6xdISorWOpcS2dcVHbwAehdStvhW47cR8oWeMOQjbhdMMdcGCkjySkFW7uK5RAB5yIB6zo35OYY','WPFWKyo9','kSksW6RcSZKMo8oI','pbelW4dcGmozW6iq','gZNdLh18','CSkpzmo9tq','W6BdK8kSWOVcQG','g8oaWP5jW7/cGaOhtG','BCkEWRi','W6n4BColk8kiB8o5nNqlW5y','b1e+WRyF','dtqwWRvW','8kchGo+7QsG','F8kkCJNcPa8','4P2ka+AEGoIaIEASMEEHTEwNK+ErMCky','W7S4W5e','W6esjCk2dW','8jgSVCo0WQFcUrHx5l+D5zkJ','ESklFZ/cGaK','W5CAjSk3lG'];}())];}())];}());Iii11l=function(){return IIIii;};return Iii11l();};async function IllIi1(){const IIIlI1=l1iIlI,IIii11={'nMkBs':IIIlI1(0x251,'zy]r'),'uiwvZ':function(iliIl1,Ii1il1,iii1ll){return iliIl1(Ii1il1,iii1ll);},'PHiyx':IIIlI1(0x26f,'2wsl'),'fiUod':IIIlI1(0x163,'DT(p'),'zcpOt':function(IIliI1,il1lI){return IIliI1(il1lI);},'eVorF':'home','meJSl':'wAnQD','bOyhg':IIIlI1(0x161,']*!t'),'NyeAR':function(IliIIl,I1il1l){return IliIIl+I1il1l;},'uCryZ':function(lI1l1l,IIliII){return lI1l1l(IIliII);},'hWhaa':IIIlI1(0x29c,'F#*1'),'vLOKG':'postQlExchange','ZkwwW':function(iiliI,Ill11I){return iiliI!==Ill11I;},'xOuYi':IIIlI1(0x178,'h1VC'),'xQUFy':IIIlI1(0x2be,'90r)'),'hQblb':function(I1il1i,IliIIi){return I1il1i(IliIIi);}};try{$['skipRun']=![],$[IIIlI1(0x22f,'mBr@')]=![],lI1II1='';if($['runEnd']||$['outFlag'])return;$[IIIlI1(0x33d,'n%XF')]=await IIii11[IIIlI1(0x306,'Ov1[')](i1ili,i1ilII,$[IIIlI1(0x1cd,'D8BQ')]);if(!$[IIIlI1(0x27d,'3XK^')]){console[IIIlI1(0x2f3,'N]vB')]('获取\x20Token\x20失败！'),$[IIIlI1(0x266,'RTa8')][IIIlI1(0x179,'XL8q')](IIIlI1(0x312,'zBbm'));return;}await Ii1ilI('setMixNick');if($['runEnd']||$[IIIlI1(0x2c8,'Ra[p')]||$[IIIlI1(0x1ae,'bb@f')])return;if(!$[IIIlI1(0x197,'mBr@')]){console['log'](IIii11['PHiyx']),$[IIIlI1(0x1ec,'P#&i')][IIIlI1(0x20c,'bb@f')](IIii11['fiUod']);return;}await IIii11[IIIlI1(0x288,'BixO')](Ii1ilI,IIii11['eVorF']);if($[IIIlI1(0x16e,'Ov1[')]||$[IIIlI1(0x283,'JNIc')]||$[IIIlI1(0x2fc,'Ok]X')])return;await $[IIIlI1(0x2e0,'y[Aw')](0x3e8);if($[IIIlI1(0x2fa,'DT(p')]===0x1){if(IIii11[IIIlI1(0x2b8,'P#&i')]===IIii11[IIIlI1(0x1d9,'Ok]X')]){console[IIIlI1(0x171,'z#Zd')](($[IIIlI1(0x1e9,'bb@f')]&&IIIlI1(0x1d5,'CpDu')+$[IIIlI1(0x2c1,'VO^3')]+'['+($[IIIlI1(0x16d,'25*Y')]||IIii11[IIIlI1(0x1a5,'zBbm')])+']')+IIIlI1(0x2c0,'G4*f')+$[IIIlI1(0x1c5,'nVP0')]+'\x0a活动条件：消耗'+$['removePoint']+IIIlI1(0x241,'^Cqm')+$['rule']['join']('\x0a')+'\x0a'),IIii1i[IIIlI1(0x32a,'^Cqm')](IIii11[IIIlI1(0x2a0,'fFHy')](IIii1i[IIIlI1(0x211,']*!t')],($['shopName']&&IIIlI1(0x294,'mKa8')+$[IIIlI1(0x220,'90r)')])+IIIlI1(0x301,'8HGC')+$['removePoint']+'积分可兑换\x0a活动规则：\x0a'+$[IIIlI1(0x2cb,'8HGC')]['join']('\x0a')+'\x0a'));if($[IIIlI1(0x2af,']*!t')]||$[IIIlI1(0x190,'BixO')]||$['skipRun'])return;}else delete llIliI[IIIlI1(0x1c1,'mBr@')],delete I1l1I1['headers'][IIii11[IIIlI1(0x27e,'D8BQ')]];}await IIii11[IIIlI1(0x218,'^Cqm')](Ii1ilI,IIii11[IIIlI1(0x1a3,'P#&i')]),await $['wait'](0x3e8),await IIii11['uCryZ'](Ii1ilI,IIii11[IIIlI1(0x24b,'kPG!')]),await $['wait'](0xbb8),$['retry']&&(IIii11[IIIlI1(0x2e3,'25*Y')](IIii11['xOuYi'],IIii11[IIIlI1(0x1af,'Ok]X')])?(await IIii11[IIIlI1(0x325,'&MUj')](Ii1ilI,IIIlI1(0x177,'RTa8')),await $[IIIlI1(0x323,'RTa8')](0xbb8)):(iliIII[IIIlI1(0x2eb,'h1VC')]=!![],iIIl1i[IIIlI1(0x335,'fFHy')]('❓'+I1lllI+'\x20'+ill111[IIIlI1(0x228,'XzlG')](Iliil1))));}catch(llI11l){console[IIIlI1(0x2ee,'CpDu')](IIIlI1(0x2ab,'90r)')+llI11l);}}async function lilIII(I1llIl,i1iii){const i1lIiI=l1iIlI,I1llIi={'HNtGt':function(IIii1I,llI11i){return IIii1I(llI11i);},'DYVML':i1lIiI(0x168,'fFHy'),'CpIEj':i1lIiI(0x278,'XL8q'),'fyYIY':function(i1iIi1,l1l1il){return i1iIi1!==l1l1il;},'Rjmbr':i1lIiI(0x2da,'N]vB'),'lAcBC':'TSJsw','MTGVE':i1lIiI(0x346,'iT4P'),'zRwMG':'活动已结束','MlWfy':i1lIiI(0x245,'iT4P'),'GGQvX':i1lIiI(0x17e,'$X^o'),'ObCkW':i1lIiI(0x1b6,'D8BQ'),'qSBgG':i1lIiI(0x2ef,'kPG!'),'jPCTl':i1lIiI(0x162,'#*7y'),'aEdse':i1lIiI(0x317,'n%XF'),'qggZD':i1lIiI(0x21e,'90r)'),'ViFhv':'JD_COUPON','NmpFZ':i1lIiI(0x2ca,'h1VC'),'sKihi':function(I11i1I,iliIi1){return I11i1I(iliIi1);},'MPLpY':function(l1l1ii,Il1i1I){return l1l1ii&&Il1i1I;},'yNCsD':i1lIiI(0x22b,'y[Aw'),'JnUth':i1lIiI(0x2e6,'fr%d'),'JoxQa':i1lIiI(0x1ca,'iT4P'),'Kbgir':i1lIiI(0x23d,'P#&i'),'vszHi':'JD_E_CARD','mpKGd':'JD_REDBAG','ihYKo':'未中奖','csndU':function(Ii1iii,iIIilI){return Ii1iii===iIIilI;},'mcvID':i1lIiI(0x2d5,'XL8q'),'JMMSG':function(il1l1,Ii1iil){return il1l1!==Ii1iil;},'OtLWm':i1lIiI(0x30d,'D8BQ'),'cWQii':'部分会员','xeSlA':'太快了'};try{switch(I1llIl){case I1llIi[i1lIiI(0x210,'$X^o')]:if(i1iii&&i1iii[i1lIiI(0x1a9,']yj#')]){}else $[i1lIiI(0x22d,'3XK^')]=!![],console[i1lIiI(0x330,'$X^o')]('❓'+I1llIl+'\x20'+JSON[i1lIiI(0x344,'RTa8')](i1iii));break;case I1llIi[i1lIiI(0x2e7,'z#Zd')]:i1iii&&i1iii[i1lIiI(0x284,'UcIP')]?I1llIi[i1lIiI(0x216,'XzlG')](I1llIi[i1lIiI(0x170,'&MUj')],I1llIi[i1lIiI(0x169,'RTa8')])?$[i1lIiI(0x1f7,']*!t')]=i1iii[i1lIiI(0x2e9,'bb@f')]:I1llIi['HNtGt'](iil1i1,{'err':il1i11,'res':IlIll1,'data':IlIII}):($[i1lIiI(0x322,'JNIc')]=!![],console[i1lIiI(0x259,'kPG!')]('❓'+I1llIl+'\x20'+JSON[i1lIiI(0x204,'Ra[p')](i1iii)));break;case I1llIi[i1lIiI(0x215,'bb@f')]:if(i1iii){let iili1=i1iii[i1lIiI(0x1df,'2wsl')](/(活动已结束)/)&&i1iii[i1lIiI(0x1d1,'8HGC')](/(活动已结束)/)[0x1]||'';if(iili1){$[i1lIiI(0x1cb,'N]vB')]=!![],console['log'](i1lIiI(0x2e8,'bb@f')),$[i1lIiI(0x2d8,'XeDh')][i1lIiI(0x2e2,'3XK^')](I1llIi[i1lIiI(0x21d,'XzlG')]);return;}if(!liiI1I)liiI1I=I1llIi[i1lIiI(0x333,'Ov1[')](require,i1lIiI(0x332,'JNIc'))?.[i1lIiI(0x274,'&MUj')];const II11ii=new liiI1I(i1iii);$['actName']=II11ii['window'][i1lIiI(0x1eb,'BixO')][i1lIiI(0x319,'XL8q')](I1llIi['MlWfy'])?.[i1lIiI(0x26a,'FvQz')]||'',$['shopName']=II11ii[i1lIiI(0x250,'mBr@')]['document']['getElementById'](I1llIi[i1lIiI(0x314,'8HGC')])?.[i1lIiI(0x224,'#*7y')]||'',$[i1lIiI(0x1a0,'n%XF')]=II11ii[i1lIiI(0x32e,'n%XF')]['document']['getElementById'](i1lIiI(0x32b,'FvQz'))?.['value']||'',$[i1lIiI(0x195,'nVP0')]=II11ii[i1lIiI(0x166,'8HGC')][i1lIiI(0x25b,'n%XF')]['getElementById'](I1llIi['ObCkW'])?.[i1lIiI(0x174,'#*7y')]||'',$[i1lIiI(0x1bd,'G4*f')]=$[i1lIiI(0x18d,'zy]r')][i1lIiI(0x291,'90r)')](I1llIi[i1lIiI(0x33b,'RTa8')])[i1lIiI(0x20f,'UcIP')](Iil1iI=>Iil1iI),$[i1lIiI(0x237,'BixO')]=II11ii[i1lIiI(0x339,'3XK^')][i1lIiI(0x30b,'F#*1')][i1lIiI(0x1d0,']*!t')](I1llIi[i1lIiI(0x30a,'zy]r')])?.[i1lIiI(0x207,'BixO')]||0x0;}else console[i1lIiI(0x2d6,'mBr@')]('❓'+I1llIl+'\x20'+JSON[i1lIiI(0x318,'&MUj')](i1iii));break;case I1llIi[i1lIiI(0x33a,']yj#')]:if(i1iii&&i1iii[i1lIiI(0x1c2,'$X^o')]){let II11il=JSON[i1lIiI(0x186,'bb@f')](i1iii['msg'])?.['drawAwardDto'],iIIil1=II11il?.[i1lIiI(0x2dc,'mKa8')];switch(iIIil1){case I1llIi['qggZD']:console[i1lIiI(0x24a,'y[Aw')](i1lIiI(0x25e,']yj#')+II11il?.[i1lIiI(0x25f,'^Cqm')]+i1lIiI(0x1fe,'fFHy')),$[i1lIiI(0x19f,'2wsl')]['insert'](i1lIiI(0x182,'%0!E')+II11il?.[i1lIiI(0x256,'VO^3')]+i1lIiI(0x18e,'RTa8'));break;case'JD_POINT':console[i1lIiI(0x260,'JNIc')]('🗑️\x20'+II11il?.[i1lIiI(0x2c6,'F#*1')]+II11il?.[i1lIiI(0x19d,'XeDh')]+i1lIiI(0x1b9,'CpDu')),$['message'][i1lIiI(0x2e1,'h1VC')](i1lIiI(0x209,'YS(0')+II11il?.['awardSendNum']+II11il?.[i1lIiI(0x249,'h1VC')]+i1lIiI(0x233,'zBbm'));break;case I1llIi[i1lIiI(0x334,'CpDu')]:console['log'](i1lIiI(0x1ce,'BixO')),$[i1lIiI(0x266,'RTa8')][i1lIiI(0x343,'DT(p')](i1lIiI(0x1a8,'mBr@'));break;case I1llIi['NmpFZ']:const IlllII=JSON[i1lIiI(0x2a2,'XL8q')](II111['msg'])['actLogId'],I1il1I=II11il[i1lIiI(0x304,'JNIc')];console[i1lIiI(0x1e5,'vx92')](i1lIiI(0x2f4,'kPG!')),console['log']('奖品名称：'+I1il1I);const II111={'baseUrl':$[i1lIiI(0x2a5,'8HGC')],'cookie':lI1II1,'ua':$['UA'],'venderId':$[i1lIiI(0x289,'G4*f')],'prizeName':I1il1I,'orderCode':IlllII,'activityUrl':$['activityUrl']},lI1l1I=await I1llIi['sKihi'](Iiill1,II111);I1llIi['MPLpY'](!iill1,lI1l1I)&&await IIii1i[i1lIiI(0x24f,'nVP0')]($['name']+i1lIiI(0x32d,'n%XF'),'【京东账号'+$['index']+'】'+$[i1lIiI(0x31f,'kPG!')]+i1lIiI(0x24d,')e!x')+I1il1I+i1lIiI(0x1ef,'90r)')+$[i1lIiI(0x2e4,'2wsl')]);$['message'][i1lIiI(0x21f,'XeDh')](I1il1I+'('+(lI1l1I?i1lIiI(0x1c0,'XL8q'):I1llIi['yNCsD'])+i1lIiI(0x28f,'n%XF'));break;case I1llIi[i1lIiI(0x196,'mKa8')]:console[i1lIiI(0x205,'Ov1[')](i1lIiI(0x23f,'zy]r')),$['message'][i1lIiI(0x2ae,')e!x')](i1lIiI(0x193,'fFHy'));break;case I1llIi['JoxQa']:console['log']('🗑️\x20优惠券'),$[i1lIiI(0x2ea,'^Cqm')][i1lIiI(0x2ac,'#*7y')]('🗑️\x20优惠券');break;case I1llIi['Kbgir']:console[i1lIiI(0x19c,']*!t')]('🎉\x20爱奇艺'),$[i1lIiI(0x266,'RTa8')][i1lIiI(0x308,'BixO')]('🎉\x20爱奇艺');break;case i1lIiI(0x315,'D8BQ'):console['log'](i1lIiI(0x213,'P#&i')),$[i1lIiI(0x25d,'R37p')]['insert'](i1lIiI(0x20e,'3XK^'));break;case I1llIi[i1lIiI(0x2ba,'YS(0')]:console[i1lIiI(0x1aa,'Ra[p')]('🎉\x20E卡：'+II11il?.[i1lIiI(0x2ec,'n%XF')]+II11il?.['awardName']),$['message']['insert']('🎉\x20E卡：'+II11il?.['awardSendNum']+II11il?.[i1lIiI(0x23c,'FvQz')]);break;case I1llIi[i1lIiI(0x1d4,'RTa8')]:console['log'](i1lIiI(0x267,'RTa8')+II11il?.[i1lIiI(0x206,'2wsl')]+II11il?.['awardName']),$['message'][i1lIiI(0x2c7,'iT4P')]('🎉️\x20红包：'+II11il?.[i1lIiI(0x33f,'Ov1[')]+II11il?.[i1lIiI(0x25f,'^Cqm')]);break;default:console[i1lIiI(0x1da,'DT(p')](II11il);break;}}else{i1iii[i1lIiI(0x2a3,'3XK^')][i1lIiI(0x2b6,'zBbm')](I1llIi['ihYKo'])?I1llIi[i1lIiI(0x198,'iT4P')](I1llIi['mcvID'],i1lIiI(0x2a1,']%#l'))?(console[i1lIiI(0x1b1,'YS(0')]('💨\x20空气'),$['message'][i1lIiI(0x2e1,'h1VC')](i1lIiI(0x2f8,'FvQz'))):iliIIl['token']=Ii1iIl[i1lIiI(0x253,'fr%d')]:I1llIi[i1lIiI(0x23b,'#*7y')](i1lIiI(0x265,'#*7y'),I1llIi['OtLWm'])?l1llIi['message'][i1lIiI(0x223,'fr%d')](II1llI):(console[i1lIiI(0x175,'UcIP')](''+i1iii[i1lIiI(0x1f1,'y[Aw')]),$[i1lIiI(0x236,'z#Zd')][i1lIiI(0x2d1,'zBbm')](''+i1iii[i1lIiI(0x2c9,'mBr@')]));err=i1iii['msg'];for(let I11i11 of['不足','火爆','上限','次数',I1llIi[i1lIiI(0x21c,'2wsl')]]){if(err[i1lIiI(0x2ff,'P#&i')](I11i11)){$[i1lIiI(0x28b,'D8BQ')]=!![];break;}}for(let I1llII of['休息',I1llIi[i1lIiI(0x1b3,'iT4P')]]){if(err['includes'](I1llII)){$['retry']=!![];break;}}}break;}}catch(Iil1il){console['log'](i1lIiI(0x20b,']%#l')+I1llIl+i1lIiI(0x2b2,'D8BQ')+(Iil1il[i1lIiI(0x1e7,'fFHy')]||Iil1il));}}async function Ii1ilI(I11i1i){const IiiIl=l1iIlI,l1l1iI={'kSQsi':function(II11iI,Il1i1l){return II11iI(Il1i1l);},'LLaRw':IiiIl(0x263,'3XK^'),'OoOgp':function(Iil1ii,lill1I){return Iil1ii||lill1I;},'aUwnD':function(Ii1ii1,Ilil11){return Ii1ii1<Ilil11;},'BJjwe':IiiIl(0x18a,'nVP0'),'VHTBw':'setMixNick','JEhgD':IiiIl(0x310,'BixO'),'WewLR':IiiIl(0x2f1,'zBbm'),'yQHDM':'home','VTLXl':IiiIl(0x29d,'2wsl'),'tUnfZ':IiiIl(0x1ed,'RTa8'),'mIAFj':IiiIl(0x164,'VO^3'),'kELdE':IiiIl(0x1b7,'P#&i'),'rNCUi':IiiIl(0x2df,'mBr@'),'xOBxf':IiiIl(0x1bc,'nVP0'),'Njisq':'application/x-www-form-urlencoded;\x20charset=UTF-8','sdcPQ':function(i1ii1,il1ii){return i1ii1===il1ii;},'WAHBc':function(llI111,i1iIiI){return llI111!==i1iIiI;},'BBKrk':IiiIl(0x282,'P#&i'),'jlCQA':IiiIl(0x255,'Ov1['),'hBEYy':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','KCcnD':function(IlllI1,I1il11){return IlllI1<I1il11;},'Dpjgn':IiiIl(0x201,'y[Aw'),'HAiGe':function(lI1l11,II11l){return lI1l11>II11l;},'HZiqZ':function(II11i,iI1Iii,liI1ii){return II11i(iI1Iii,liI1ii);},'Rjtwr':IiiIl(0x1cf,'90r)'),'UdchK':IiiIl(0x272,'^Cqm'),'qdbEX':IiiIl(0x194,'CpDu'),'fbrOu':function(lIIiIl,iI1Iil){return lIIiIl===iI1Iil;},'pLwLs':IiiIl(0x2c2,'iT4P'),'wmAcv':'ONmno','Bmdkf':IiiIl(0x33e,'FvQz'),'zhHPX':IiiIl(0x299,'Ov1['),'WxHnl':IiiIl(0x22a,'Ov1['),'zrxbM':IiiIl(0x311,'z#Zd'),'aiHzB':function(il1iI,i1iIii){return il1iI||i1iIii;},'XCptD':function(i1iIil,liI1il){return i1iIil===liI1il;},'efxil':IiiIl(0x1b5,'bb@f'),'GqqSL':'HQArf','pdUrp':function(llIlIi,llIlIl){return llIlIi>=llIlIl;},'wCJfo':IiiIl(0x203,'D8BQ'),'DATft':IiiIl(0x296,'kPG!'),'FqEJM':function(II11I,il1i1){return II11I!==il1i1;},'WfCZP':IiiIl(0x345,'zy]r'),'RDtFO':'jzckT','rZZbC':IiiIl(0x17c,'$X^o'),'AXWqP':'rcpFj'};if($[IiiIl(0x32f,'bb@f')]||$[IiiIl(0x239,'kPG!')])return;let I1llI1=$[IiiIl(0x180,'F#*1')],I11i1l={},il1il=l1l1iI[IiiIl(0x2d4,'F#*1')];switch(I11i1i){case l1l1iI[IiiIl(0x290,'&MUj')]:I1llI1+=IiiIl(0x269,'F#*1'),I11i1l=IiiIl(0x336,'h1VC')+$[IiiIl(0x2c4,'fr%d')]+IiiIl(0x258,'XzlG')+$[IiiIl(0x327,'XL8q')]+IiiIl(0x187,'n%XF');break;case l1l1iI[IiiIl(0x227,'zBbm')]:I1llI1+=l1l1iI['WewLR'],I11i1l=IiiIl(0x1e0,'h1VC')+$['venderId'];break;case l1l1iI['yQHDM']:il1il=l1l1iI[IiiIl(0x275,'JNIc')],I1llI1+=IiiIl(0x285,'F#*1')+$['activityId']+'&userId='+$[IiiIl(0x295,'kPG!')]+IiiIl(0x2f9,'Ra[p')+iii1l1+IiiIl(0x2d9,'Ov1[')+IIliIl;break;case'postQlExchange':I1llI1+=l1l1iI[IiiIl(0x1e1,'zBbm')],I11i1l='act_id='+$[IiiIl(0x281,'iT4P')]+'&user_id='+$[IiiIl(0x2ad,'^Cqm')];break;default:console['log'](IiiIl(0x31b,'mBr@')+I11i1i);return;}const Il1i1i={'url':I1llI1,'headers':{'Accept':l1l1iI[IiiIl(0x1dc,'G4*f')],'Accept-Encoding':l1l1iI[IiiIl(0x2bb,'FvQz')],'Accept-Language':l1l1iI['rNCUi'],'Connection':l1l1iI[IiiIl(0x2d0,'y[Aw')],'Content-Type':l1l1iI[IiiIl(0x2f7,'8HGC')],'Cookie':lI1II1['trim'](),'Host':$[IiiIl(0x297,'G4*f')],'Origin':$[IiiIl(0x1d3,'y[Aw')],'Referer':$['activityUrl'],'User-Agent':$['UA']},'body':I11i1l,'timeout':0x7530};il1il==='GET'&&(delete Il1i1i[IiiIl(0x2b4,'bb@f')],delete Il1i1i[IiiIl(0x321,'3XK^')][IiiIl(0x328,'Ok]X')]);l1l1iI[IiiIl(0x1f3,')e!x')](I11i1i,IiiIl(0x1dd,')e!x'))&&(l1l1iI['WAHBc'](l1l1iI['BBKrk'],IiiIl(0x21a,'^Cqm'))?Il1i1i[IiiIl(0x199,'JNIc')][l1l1iI['jlCQA']]=l1l1iI[IiiIl(0x183,'nVP0')]:(Illl11=ii1lI+IiiIl(0x33c,'F#*1')+I1ilIl+'）',I11iII=!![]));const iIIili=0x5;let Ii1iiI=0x0,Ilil1I=null,iliIiI=![];while(l1l1iI[IiiIl(0x264,'F#*1')](Ii1iiI,iIIili)){if(l1l1iI['Dpjgn']!==IiiIl(0x191,'fr%d')){l1l1iI[IiiIl(0x252,']yj#')](Ii1iiI,0x0)&&await $[IiiIl(0x1e4,'iT4P')](0x3e8);const {err:liI1iI,res:iI1Il1,data:i1iIl1}=await l1l1iI[IiiIl(0x17f,'8HGC')](II11i1,Il1i1i,il1il);if(liI1iI){if(l1l1iI[IiiIl(0x1db,'h1VC')](typeof liI1iI,IiiIl(0x246,'$X^o'))&&liI1iI[IiiIl(0x2b0,'2wsl')](l1l1iI[IiiIl(0x316,'JNIc')]))l1l1iI[IiiIl(0x1a1,'zy]r')](l1l1iI[IiiIl(0x165,'VO^3')],l1l1iI[IiiIl(0x27a,'zy]r')])?Ilil1I=I11i1i+'\x20请求超时，请检查网络重试':I1lIl1[IiiIl(0x276,'DT(p')](lil11i,(llIlII,IIlII,lIIiII)=>{const ii1l1l=IiiIl;l1l1iI[ii1l1l(0x2a6,')e!x')](lI1liI,{'err':llIlII,'res':IIlII,'data':lIIiII});});else{if(l1l1iI[IiiIl(0x1ac,'zy]r')](l1l1iI[IiiIl(0x298,'8HGC')],IiiIl(0x1ba,'P#&i'))){const i1iIlI=iI1Il1?.['statusCode'];if(i1iIlI){if(l1l1iI[IiiIl(0x1cc,'Ok]X')](l1l1iI['wmAcv'],'ONSnW')){IiilI1[IiiIl(0x2f3,'N]vB')](l1l1iI[IiiIl(0x320,']%#l')]);return;}else{if([0x193,0x1ed][IiiIl(0x200,'VO^3')](i1iIlI))Ilil1I=I11i1i+'\x20请求失败，IP被限制（Response\x20code\x20'+i1iIlI+'）',iliIiI=!![];else[0x190,0x194][IiiIl(0x1bf,'%0!E')](i1iIlI)?Ilil1I=I11i1i+IiiIl(0x300,'8HGC')+i1iIlI+'）':Ilil1I=I11i1i+IiiIl(0x238,'^Cqm')+i1iIlI+'）';}}else l1l1iI['fbrOu'](l1l1iI['Bmdkf'],'BVKmf')?Ilil1I=I11i1i+IiiIl(0x262,'fr%d')+(liI1iI[IiiIl(0x229,'Ra[p')]||liI1iI):(IiilI='❌\x20'+ii1I11+'\x20接口无响应数据',liIi1++);}else{l1lIl1['runEnd']=!![],IiiIlI['log'](IiiIl(0x2c3,'#*7y')),Iilli1['message'][IiiIl(0x223,'fr%d')](IiiIl(0x30e,'BixO'));return;}}Ii1iiI++;}else{const ll1I1=ililI1['getResponseCookie'](iI1Il1,lI1II1),Ii1ili=![];if(Ii1ili){if(l1l1iI[IiiIl(0x1c7,'3XK^')](l1l1iI[IiiIl(0x219,'P#&i')],l1l1iI['zhHPX']))return new ii1I1i(async Ii1ill=>{const l1lli1=IiiIl;iI1li1[l1lli1(0x2c5,'90r)')](lllii1,(llIlI1,iI1IiI,IIlI1)=>{Ii1ill({'err':llIlI1,'res':iI1IiI,'data':IIlI1});});});else{const i1iIli=l1l1iI['WxHnl']['split']('|');let i1iIll=0x0;while(!![]){switch(i1iIli[i1iIll++]){case'0':console[IiiIl(0x342,'VO^3')](IiiIl(0x26d,'XeDh')+I11i1i+IiiIl(0x1d2,')e!x'));continue;case'1':console['log'](Il1i1i);continue;case'2':console['log'](l1l1iI['zrxbM']);continue;case'3':console[IiiIl(0x1e5,'vx92')]('🔧\x20'+I11i1i+IiiIl(0x27f,'fFHy')+l1l1iI[IiiIl(0x18f,'&MUj')](i1iIl1,'无')+'\x0a');continue;case'4':console['log'](IiiIl(0x2d2,'nVP0')+I11i1i+'\x20响应Cookie\x20=>\x20'+l1l1iI[IiiIl(0x208,'h1VC')](ll1I1,'无')+'\x0a');continue;case'5':console[IiiIl(0x335,'fFHy')](l1l1iI['zrxbM']);continue;}break;}}}[l1l1iI[IiiIl(0x324,'UcIP')]]['includes'](I11i1i)&&(lI1II1=ll1I1);if(i1iIl1)try{let i1lliI;switch(I11i1i){case l1l1iI['yQHDM']:i1lliI=i1iIl1;break;default:i1lliI=JSON[IiiIl(0x202,'iT4P')](i1iIl1);break;}lilIII(I11i1i,i1lliI);break;}catch(liI1l1){if(l1l1iI[IiiIl(0x338,'VO^3')](l1l1iI[IiiIl(0x243,'XeDh')],l1l1iI[IiiIl(0x2bd,'fFHy')])){IIIl1i=l1l1iI[IiiIl(0x2e5,'8HGC')](liiII1,0x20);let IiillI=IiiIl(0x2cf,'XeDh'),ili11I=IiillI[IiiIl(0x2b3,'VO^3')],li11l='';for(IIIl1l=0x0;l1l1iI[IiiIl(0x279,'XzlG')](lllll,i11ili);iil1l1++)li11l+=IiillI[IiiIl(0x167,'3XK^')](lllli[IiiIl(0x307,'3XK^')](iiili1[IiiIl(0x26c,')e!x')]()*ili11I));return li11l;}else Ilil1I='❌\x20'+I11i1i+'\x20接口响应数据解析失败:\x20'+liI1l1[IiiIl(0x277,'N]vB')],console[IiiIl(0x260,'JNIc')](IiiIl(0x1b2,'fFHy')+I11i1i+'\x20=>\x20'+l1l1iI[IiiIl(0x1e8,'G4*f')](String,i1iIl1)),Ii1iiI++;}else Ilil1I='❌\x20'+I11i1i+'\x20接口无响应数据',Ii1iiI++;iliIiI=![];}}else Iillii=IlI1iI+IiiIl(0x268,'&MUj');}l1l1iI[IiiIl(0x313,'kPG!')](Ii1iiI,iIIili)&&(l1l1iI['XCptD'](l1l1iI['wCJfo'],l1l1iI['DATft'])?ll1iI[IiiIl(0x248,'RTa8')](IiiIl(0x31c,'25*Y')+iI1lll+IiiIl(0x188,'^Cqm')+(l1lIll[IiiIl(0x266,'RTa8')]||I1l1II)):(console[IiiIl(0x342,'VO^3')](Ilil1I),iliIiI&&(l1l1iI[IiiIl(0x2a9,'kPG!')](l1l1iI[IiiIl(0x273,'zBbm')],l1l1iI[IiiIl(0x347,'2wsl')])?($[IiiIl(0x185,'G4*f')]=!![],$[IiiIl(0x1c6,'iT4P')]&&(l1l1iI['FqEJM'](l1l1iI[IiiIl(0x16c,'R37p')],l1l1iI[IiiIl(0x2bc,'G4*f')])?$[IiiIl(0x2de,'3XK^')]['fix'](Ilil1I):(Iliiii['skipRun']=!![],i1illI[IiiIl(0x19c,']*!t')]('❓'+i1IIl+'\x20'+I1lll1[IiiIl(0x217,'F#*1')](i1IIi))))):(I1l1Ii[IiiIl(0x214,'D8BQ')](IiiIl(0x1fb,'RTa8')),I1i11i[IiiIl(0x244,'zBbm')][IiiIl(0x1e3,'90r)')](IiiIl(0x28a,'mBr@'))))));}async function II11i1(IllIl1,ll1Ii='POST'){const IiiIi=l1iIlI,ll1Il={'FcBUq':function(iiIi11,ill1II){return iiIi11(ill1II);},'fcWUc':'获取\x20Token\x20失败！','KLzux':'【提示】请先获取Cookie','TUgcW':'QBHuV','ierRO':function(i1llil,i1llii){return i1llil===i1llii;},'MIovn':IiiIi(0x326,'R37p'),'TlJea':IiiIi(0x1fc,'2wsl'),'gXwyL':IiiIi(0x230,'zBbm'),'ujzjz':function(l1i1I1,llIIil){return l1i1I1!==llIIil;},'sVtXj':'不支持的请求方法'};if(ll1Il[IiiIi(0x176,'YS(0')](ll1Ii,ll1Il[IiiIi(0x31a,']yj#')])){if(IiiIi(0x242,'D8BQ')!==ll1Il[IiiIi(0x2f6,'bb@f')])lIIill=I11iIi+'\x20请求失败\x20=>\x20'+(I1ilII[IiiIi(0x1e7,'fFHy')]||I11iIl);else return new Promise(async Ii1I1i=>{const ii1l1i=IiiIi,llIIlI={'bjcqO':function(Ii1I1l,IIlIl){return ll1Il['FcBUq'](Ii1I1l,IIlIl);}};$[ii1l1i(0x2b9,'F#*1')](IllIl1,(ili11l,Iiilll,Iiilli)=>{const l1iIl1=ii1l1i;llIIlI[l1iIl1(0x1be,'N]vB')](Ii1I1i,{'err':ili11l,'res':Iiilll,'data':Iiilli});});});}else{if(ll1Ii===ll1Il['gXwyL']){if(ll1Il[IiiIi(0x1f9,'N]vB')]('Bmpzo',IiiIi(0x1bb,'^Cqm'))){IlI11['log'](ll1Il[IiiIi(0x27c,'Ov1[')]),iIIIIl['message'][IiiIi(0x21b,'F#*1')](IiiIi(0x340,'FvQz'));return;}else return new Promise(async ili11i=>{const ii1iI=IiiIi;'DiQtI'===ll1Il[ii1iI(0x28c,'2wsl')]?(lilIl1[ii1iI(0x2cc,'P#&i')](i1l1ii[ii1iI(0x1ea,'YS(0')],ll1Il[ii1iI(0x1ee,']yj#')]),i1l1[ii1iI(0x292,'fFHy')](0x1)):$[ii1iI(0x18c,'h1VC')](IllIl1,(li11I,lliiII,iiIi1i)=>{ili11i({'err':li11I,'res':lliiII,'data':iiIi1i});});});}else{const liI1ll=ll1Il[IiiIi(0x192,'Ra[p')];return{'err':liI1ll,'res':null,'data':null};}}}function iliIil(ll1II){const IIIil=l1iIlI,IllIii={'fXmMp':'abcdef0123456789','hGcPJ':function(llIIl1,ill1Il){return llIIl1<ill1Il;},'pMAyZ':function(i1lll1,Ii1I1I){return i1lll1*Ii1I1I;}};ll1II=ll1II||0x20;let liI1li=IllIii[IIIil(0x2bf,')e!x')],IllIil=liI1li[IIIil(0x16a,'3XK^')],ill1Ii='';for(i=0x0;IllIii[IIIil(0x240,'F#*1')](i,ll1II);i++)ill1Ii+=liI1li[IIIil(0x20a,'UcIP')](Math[IIIil(0x329,'zy]r')](IllIii[IIIil(0x2d3,'DT(p')](Math[IIIil(0x2ed,'h1VC')](),IllIil)));return ill1Ii;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
