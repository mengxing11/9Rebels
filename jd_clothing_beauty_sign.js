/*
活动名称：服饰美妆签到

cron: 35 4 * * * jd_clothing_beauty_sign.js

*/

const $ = new Env('服饰美妆签到')
var iｉl='jsjiami.com.v7';const Ill11i=iii1II;(function(Iiill1,I1iII1,lilII1,iill1,iii1l1,IIliIl,II11ll){return Iiill1=Iiill1>>0x7,IIliIl='hs',II11ll='hs',function(liiI1I,ililII,lI1II1,i1ilII,iIIii1){const iilii=iii1II;i1ilII='tfi',IIliIl=i1ilII+IIliIl,iIIii1='up',II11ll+=iIIii1,IIliIl=lI1II1(IIliIl),II11ll=lI1II1(II11ll),lI1II1=0x0;const IllIi1=liiI1I();while(!![]&&--iill1+ililII){try{i1ilII=-parseInt(iilii(0x242,'C3g#'))/0x1*(parseInt(iilii(0x1b2,'D)4F'))/0x2)+parseInt(iilii(0x249,'piTW'))/0x3*(-parseInt(iilii(0x175,'(0$A'))/0x4)+parseInt(iilii(0x1a0,'9l[P'))/0x5+-parseInt(iilii(0x21f,'(0$A'))/0x6*(-parseInt(iilii(0x1fe,'$a%Y'))/0x7)+parseInt(iilii(0x184,'9EdW'))/0x8+parseInt(iilii(0x20d,'[2zR'))/0x9+-parseInt(iilii(0x21a,'MI7N'))/0xa;}catch(lilIII){i1ilII=lI1II1;}finally{iIIii1=IllIi1[IIliIl]();if(Iiill1<=iill1)lI1II1?iii1l1?i1ilII=iIIii1:iii1l1=iIIii1:lI1II1=iIIii1;else{if(lI1II1==iii1l1['replace'](/[WrtuSlyKBfUATXQVqxRNg=]/g,'')){if(i1ilII===ililII){IllIi1['un'+IIliIl](iIIii1);break;}IllIi1[II11ll](iIIii1);}}}}}(lilII1,I1iII1,function(Ii1ilI,II11i1,iliIil,iliIii,lill1i,il1li,iIIill){return II11i1='\x73\x70\x6c\x69\x74',Ii1ilI=arguments[0x0],Ii1ilI=Ii1ilI[II11i1](''),iliIil=`\x72\x65\x76\x65\x72\x73\x65`,Ii1ilI=Ii1ilI[iliIil]('\x76'),iliIii=`\x6a\x6f\x69\x6e`,(0x14f52a,Ii1ilI[iliIii](''));});}(0x6500,0x961aa,Iii11l,0xcc),Iii11l)&&(iｉl=Ill11i(0x1f8,'vlVy'));const ill11l=require(Ill11i(0x1ec,'Hx$6')),I1lIiI=require('./utils/Rebels_sendJDNotify'),lllili=require('./utils/Rebels_jdCommon'),{H5st:IliiiI}=require(Ill11i(0x14c,'naQd')),Ill11=![];let liiIII='';const li1i11=Object[Ill11i(0x1a6,'B)hF')](ill11l)[Ill11i(0x169,'C3g#')](iil1ii=>ill11l[iil1ii])['filter'](IlIlli=>IlIlli);function iii1II(_0x44cd55,_0x56c84e){const _0x2ca424=Iii11l();return iii1II=function(_0x3c67de,_0x157d92){_0x3c67de=_0x3c67de-0x149;let _0x1a2b98=_0x2ca424[_0x3c67de];if(iii1II['wrchKI']===undefined){var _0x13be9e=function(_0x4fa31b){const _0x20e868='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5a5663='',_0x28403b='';for(let _0x38aea4=0x0,_0x123684,_0x8b8a17,_0x3dd471=0x0;_0x8b8a17=_0x4fa31b['charAt'](_0x3dd471++);~_0x8b8a17&&(_0x123684=_0x38aea4%0x4?_0x123684*0x40+_0x8b8a17:_0x8b8a17,_0x38aea4++%0x4)?_0x5a5663+=String['fromCharCode'](0xff&_0x123684>>(-0x2*_0x38aea4&0x6)):0x0){_0x8b8a17=_0x20e868['indexOf'](_0x8b8a17);}for(let _0x22fca0=0x0,_0x4fa79a=_0x5a5663['length'];_0x22fca0<_0x4fa79a;_0x22fca0++){_0x28403b+='%'+('00'+_0x5a5663['charCodeAt'](_0x22fca0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x28403b);};const _0xcb724a=function(_0x29eaa5,_0x3ae262){let _0xd6c0f3=[],_0x571b3a=0x0,_0x134bdc,_0x2ffe95='';_0x29eaa5=_0x13be9e(_0x29eaa5);let _0x2dd27f;for(_0x2dd27f=0x0;_0x2dd27f<0x100;_0x2dd27f++){_0xd6c0f3[_0x2dd27f]=_0x2dd27f;}for(_0x2dd27f=0x0;_0x2dd27f<0x100;_0x2dd27f++){_0x571b3a=(_0x571b3a+_0xd6c0f3[_0x2dd27f]+_0x3ae262['charCodeAt'](_0x2dd27f%_0x3ae262['length']))%0x100,_0x134bdc=_0xd6c0f3[_0x2dd27f],_0xd6c0f3[_0x2dd27f]=_0xd6c0f3[_0x571b3a],_0xd6c0f3[_0x571b3a]=_0x134bdc;}_0x2dd27f=0x0,_0x571b3a=0x0;for(let _0x785669=0x0;_0x785669<_0x29eaa5['length'];_0x785669++){_0x2dd27f=(_0x2dd27f+0x1)%0x100,_0x571b3a=(_0x571b3a+_0xd6c0f3[_0x2dd27f])%0x100,_0x134bdc=_0xd6c0f3[_0x2dd27f],_0xd6c0f3[_0x2dd27f]=_0xd6c0f3[_0x571b3a],_0xd6c0f3[_0x571b3a]=_0x134bdc,_0x2ffe95+=String['fromCharCode'](_0x29eaa5['charCodeAt'](_0x785669)^_0xd6c0f3[(_0xd6c0f3[_0x2dd27f]+_0xd6c0f3[_0x571b3a])%0x100]);}return _0x2ffe95;};iii1II['RfOziR']=_0xcb724a,_0x44cd55=arguments,iii1II['wrchKI']=!![];}const _0x289014=_0x2ca424[0x0],_0x4e7fb8=_0x3c67de+_0x289014,_0x4fe368=_0x44cd55[_0x4e7fb8];return!_0x4fe368?(iii1II['CRnhNy']===undefined&&(iii1II['CRnhNy']=!![]),_0x1a2b98=iii1II['RfOziR'](_0x1a2b98,_0x157d92),_0x44cd55[_0x4e7fb8]=_0x1a2b98):_0x1a2b98=_0x4fe368,_0x1a2b98;},iii1II(_0x44cd55,_0x56c84e);}!li1i11[0x0]&&($[Ill11i(0x1b7,'7mkO')]($[Ill11i(0x234,'7M2*')],Ill11i(0x172,'F1$h')),process[Ill11i(0x15d,'TKPw')](0x1));!(async()=>{const iilil=Ill11i,il1i1i={'Nogsz':function(lil111,i11ilI){return lil111<i11ilI;},'AFijU':function(ii1ii1,llllI){return ii1ii1!==llllI;},'nwtEl':iilil(0x171,'drF3'),'JIDky':'gPqav','OlpbK':function(lllil1,iil1il){return lllil1+iil1il;},'rvCKu':function(ilil1I){return ilil1I();},'emXps':function(i11il1,ii1iiI){return i11il1+ii1iiI;}};I1lIiI[iilil(0x219,'$a%Y')]({'title':$[iilil(0x1d2,'TKPw')]});for(let lllilI=0x0;il1i1i['Nogsz'](lllilI,li1i11[iilil(0x223,'8)WH')]);lllilI++){if(il1i1i[iilil(0x14e,'B)hF')](il1i1i[iilil(0x1d9,'%cwg')],il1i1i[iilil(0x1eb,'vpCc')])){$[iilil(0x1ad,'FJud')]=il1i1i['OlpbK'](lllilI,0x1),liiIII=li1i11[lllilI],lllili[iilil(0x21b,'hLyp')](liiIII),$[iilil(0x1aa,'TKPw')]=decodeURIComponent(lllili['getCookieValue'](liiIII,'pt_pin')),$['UA']=lllili[iilil(0x1fb,'g04t')]($[iilil(0x177,'naQd')]),$[iilil(0x199,'TKPw')]=I1lIiI['create']($['index'],$[iilil(0x1e6,'uUhb')]),$[iilil(0x185,'FJud')]='',console[iilil(0x183,'nKx!')](iilil(0x220,'F1$h')+$[iilil(0x218,'JEFO')]+'】'+($['nickName']||$['UserName'])+'******\x0a'),await il1i1i[iilil(0x153,'s5dU')](iI11I1),lllili[iilil(0x152,'[2zR')]();if($[iilil(0x228,'%8c@')])break;await $[iilil(0x1c3,'s5dU')](0x3e8);}else iIIl11=l1l1I1+'\x20请求失败\x20=>\x20'+(I1iIll[iilil(0x149,'P@9k')]||I1lliI);}Ill11&&I1lIiI[iilil(0x19c,'vpCc')]()&&(I1lIiI[iilil(0x215,'JUem')](il1i1i[iilil(0x1e7,'9EdW')](I1lIiI['content'],iilil(0x230,'vlVy'))),await I1lIiI[iilil(0x1f9,'vpCc')]());})()[Ill11i(0x174,'piTW')](illlI1=>$[Ill11i(0x1ce,'hLyp')](illlI1))[Ill11i(0x15a,'NN$B')](()=>$['done']());function Iii11l(){const IIii11=(function(){return[...[iｉl,'yWKjBgsfuUjSilqaSmtKriTy.NcfXomA.vx7VTQR==','q8k3W5Lg','oCooW5lcMSk7','W75VWQ3dSCoV','W7jCrCokafCs','vMJdNCkhW6tcGdm','WO/dUmkKpbvvbvm','5PwC5zca5BMg5PsI5OYX','W4mnWPBdHMy','jSotW57cRmkT','nSoLaSooxWyQW5K','kuBdIIy','W5VcVmoGlWJcKhxdSKdcH8kQW51pW57dKmkMW6RdKchdKsDyoW0hvZy','i1ZdVt/dNq','8lQ+USox56Ya5yIc5OMB5yIR772K6i2M5B2X','WQBcKCokgmkW','WR3OR57MSBpLKyhLU7Gw','WQVORyBMSOlOTl3MLz/VV6dOROdMOBlMNyZNViRNUOpPHi7ORP8','fmoKW73cV8kzsuddPCkExmoZaq','cSobWPFcKmk7','sq7dVCoNWRy','lvmvhmolC8ofWOxcMX3cV8oTW70','W6JdVtNcUSop','W7yBWOtcHuq','W60BASkGW7C','kw4je3TKW4Dbzgu','W6WdyYmH','Fu8qWQZcTG','y0qyWRdcLW','FMCiW6dcLZlcUH5AWQrAuxi','W5BcId0','uCoraLddGq','wgSqWOxcHa','W5/cOSk8ndzI','k2KngHG6WOjZvufSna8','j8oKo8oIWQL1wSoTwG','jSoJW7dcUmk1','smoyku7dOwFcK8kr','hCo1W6TCya','hKv4WRFcQCkFWPuMW6ZdRCoODq','WRBdU8oZFgZdNXNLVOdLP6JJG5pKUl/KUOROTkxLJz0','lmoeWPhcRSo6WRr+W5y','z8oIogRcUq','W4tdHuxdQCkkWRC','W7JdMX/cImoG','rHtdNmo7','8lcxQSoY','W5imebldVCkEkmkOW7NcLeddNGFdN8olu8kOsu43WRJdH8kUWQj1umootCkaWPC2nmoZcCk1q8oCu13dTSkbW6D4W685W6pdMCoIpXJdMmkjW6S','xCoys8oTiSkr','qq91','W5VcTmkT','DSkDWOS','E3yEW7lcHG','EEAmGUwpV+wqGEw6ToAwIEAmGoIKSEACJowNIoI3QCoYiq','W5v8WRyysG','aCoyWPRcHmku','WP3MNyZPPypNVBJLPixNRAZLIPm','e8oAFLVdPSoOcLZcR1BcJa','k8o5W6LbDW','6lAY5y265Pw45PsD','W5DiW7ddGW','W43cPtJcMCoT','W4fiW77dGI8','u1JdQSkzW40','hxOsW6/cKW','peGQW4VcIGGYWQL9WOe','W7LgW7mAW7C','WPddH1jTW48','EHPeua','W6PyW7ZdJty','omoBW7NcQmk5','W4LSW7imW54','WQpcQsZcSmosBLFdTa','WR9wFMxcIG','eSktEHpdO8kSu2hdNL/dK8ko','W4LWW5G5W5u','W7JcHxZcTG','W73cTdhcT8oG','562A5yMl5OQO5yID','W6mJWPtcSve','B2lcHIy','W4xcJZizW57dU8kfECktWOa','oSoUW6dcUmkDqfe','W7rIW6GqW6NdVCkKWPpdTH/dNmoFW4is','56215yIN5OM85yIE','f8k0tSkCe1hdNSo9WQibtdCYWRXaAa'],...(function(){return[...['BSkDWOCvva','WRRdNmkvDZG','vSoFAmoXbG','W6q1qCkFW611','W5PhWRpdQ8oP','AGXEqCkpcmktWRlcObBcRq','mSoBWRZcJSkV','e8oVWPVcS8kO','WObzaSkacq','5lQ35PEi5O2B55M+6k2x5Rko5PES5Rgh','WRFOR4tMSRxLPy/OTjFVVypdPG3cOSkwCcxcL313W6xdJmkPzw8','hSosW7u','e+ISTEAZQowKN+I1NU+9Qmo4q1HkdGffWP4XWPXzcCotWRi','W7ldPmo2nmovbmkQ','wIDMv8k/','xHvXfSkOW4ddHwiyWRxdLmkFW7FcVG','kSk5cKG','8kQMRmkZ','W47cVrVcQSoA','lSocW51dxG','W6b3W7uLW4u','W6/cNXFcUmok','W6pdP8k3W63dJq','WPldNuDhW70','W6NcJ2/cSSkln8oXWRvUW5dcJa','W5T4WR0rrW','lmonumkVAG','W6bMW7e5WQVdTCk/WPtdGGldKW','tCohpW','EaGnW4ddHG','BCk6wCkAgLP2W7ldUNFdU8o5nq','WR10pq','W7hcIbRcR8kFhLWqW5K4','WP5uomkimq','wwavWOtcMCkiW5W','W7bwWOm','W4ZcIxxcLSk/','44kS5OYb56EJ44gh6k6X5yA96i6e5y2wymkSW7ZdVwRdJW','WOFcRSo2lSkV','WPxdL3bjW6q','gKj5WR/dICogWO4PW5xdLG','j0JdKtS','BmoOxSkAnfZdGmk3','W6ncW7pdTIa','W5ZdLJ7cKSos','w3udWOxcNW','W7bwWOm2bZJdGa','WQOZW7xcL8o8fJxdRmkQW6q','W7ZdSZ0','EeJcOsHs','4P2JWO3MNi/NNy3ORRVMSRFdGa','W7vLWQq','WRRLKkdLU6VcNmoDefSqW4P9y3RdSW','ACoTpu/cIW','W7BcGHG','fCkdCXFcPdFdHSkgW4G1uXZdKa','ugtdN8kiW4/cKY0b','iCoDWPBdQ8k3WRKMWOddUchcNmkv','omoUka','yvydW4FcKG','pKBdKZddKa','nmo/WPJcKCkW','W6LpW5ygW48','WP8OWRhcQCkE','W6HZySokhq','nCo4c8olsW8MWOtdIxRdOCkFcuO','WPhcPCoroSkH','W5CVzsef','W6RcIbZcICoK','gSookSorBG','WRH0kq','pSk0aLlcSSoIwvW','t0ZcPXnZW6q','W4qmWOZcGvi','h+IVMUAYL+wsV+w6ISk3','WRmzzftdKJ7dLwDBc1TSWQ/dK8oiW7RcHN7dIG','iSkKee/cP8oSsa','WRdLKzhLU47cNmo3wKtcP8ouWQRcTq','aSo3WPGFtvhcMKjOucGiwq','vmkNW55JhHpdMuDmxW','hUIVUUAZVUwNKUI2Po+/VGK06kof6zMp5yQH77+NWONdVbldJtPMb14+cmkCyG5n','rrzmBmk0','q8ocqG','Bmk5v8kuhLj6W67dVw/dVmoOda','W7nfW7xdSXK','W57cJbNcL8or','fZXeW5D1'],...(function(){return['u0lcSG','EYXpr0DOW5nJF0rlFbJdUdTbW5NdSKhcL8oor1qgwc/dOh3dQ8kpv1RdLG','WPddV8kfBG','x8oYqW','vmobguVdRq','WPu9WOtcG8kEWOKnttGEFmobucNdUwhdKG','gSkYbK7cImoQqea','W74VumkAW7z2W4zr','tCoTovhcLG','v2pdMmkgW7K','j0ZdIYBdNXJcSa','W4JcVSkYmYG','CdbdBSkSmCkjW6xdVXFcVmoKWOldHW/dQCkAc8obWRVcO8kYWRRdUmkZlvK','cCoOt8ky','sSo6W75DuYjJ','DmkyW4BdSmoQWQn8WOdcHWhcGCk9WRW','WRZdMfj9W7u','oKBdIYe','W7BcOCk6bZ4','W4m4ta','WOZORRtMSPxLPRtOTjVcLIldMu0','Arr9xSk6','W7BcJ2VcOmkynmoN','W4xcUCk3fY8','imk0f3RcQSoQsG','W5vJWRtdQSod','W4NcL8kbfc4','Fs1avmkS','sr7dI8oXWQlcSXW','xa1dumkEjCkiW7dcNWBcUmoa','rbu8W7tdVCooWP4','n8omWPBcSq','WQzsoCkFkq','E8krWOLccLpdHN9zWQZcUSkiWQzhiq','fmouW6O','h3OVW6BcSG','i1mS','W4mtWR3dPNS','WRvavfe','WRCcDW','W7NdSJNcSSoTwLJdTa','zSk5WR3dUmosfG','omoUkmoKWRrO','wSooyMtcNmk4ruJcPLVcGCoYDYddGHRcLw5+WP/dVwDnW78HWOv5W7/cNgdcPedcPXZcIrKRFmoQp8oWW57dH8oul23dJG','W75DWPqsrY/dKrS','rtnhuSk0','iCkGdLK','DJny','W583WQxdRfddKxBcGrq','W5dcOSk1','W4xdHvJdVCkFWRJdQa','rr8O','EMCuW6VcSG','W5tcKc7cV8om','W6NdUbtcM8oO','W5VcQ8kWjMRdLvFdPuxcR8oYW6jMWOBcQSkfW44','DWDmqmkEoCkp','rxiBW4xcHIFcManaWR1AuxlcSmoljcRdOq','wYLAAMa','lt1T','yZL6gCk7','oCoKpmosWQD9va','WOeUWRlcM8kE','FSkDWQuEtGtcHY4pW6JdP8kZWPLwfIKxfKVdPmozlee','zCoIn27cPq','WPNdLSkuAHO','W4jaWPimFcRdMq0','rmoBeLldPW','vmoOxa','utigW7/dPG','W7r5WQq','ECklW65faG','D8kiDSkOy8kwaCk5W7xcNa','W5tcIXRcUmoF','5lQf5PsK5BAr562c','W7tOR6ZMSiZPHQRNVkBLJ47MLRVPLA3OR7dVVjhOROxOGlFNSzhLV7dLJQZOGjZOV6FOOyBLJRxPPPVVV6/cUCouW7hcJSokr8klWR17WOpdVCoHwSkl','wN0uW5pcIa','A8kskCo4eCobaSktW5/cJmkJWOq','W7VcImkg','F+ITVoAWO+MhR+E9HowoOoAuV+MwS+ITHE+8MEITU+IdPEEYHow9VEwnR+IaUoI8NEIGJownUUMMPU+/SSoytCk+WRhcJmkhWQfqWRniktSSwW','tfJcTZfXW7nA','ACozxSk/iG','WQvUl8kjpgxcVW0','W4RcP8kJbra','W70YwCkFW6j/W4OmW7VdMGxdQfHM'];}())];}())];}());Iii11l=function(){return IIii11;};return Iii11l();};async function iI11I1(){const Ill11l=Ill11i,IIIl11={'JEUvs':function(liiIIi,lil11I){return liiIIi===lil11I;},'jpwec':'boolean','fEzVu':function(Iliii1,iIiIi){return Iliii1===iIiIi;},'hCWom':Ill11l(0x20e,'5e^D')},I1lIi1=await lllili[Ill11l(0x14a,'elMZ')](liiIII);if(!I1lIi1&&IIIl11['JEUvs'](typeof I1lIi1,IIIl11[Ill11l(0x17a,'JEFO')])){console[Ill11l(0x1d7,'(0$A')](Ill11l(0x233,'NN$B'));return;}try{IIIl11['fEzVu'](IIIl11['hCWom'],Ill11l(0x236,'7M2*'))?await IlIlll(Ill11l(0x1ca,'yVox')):IlI11[Ill11l(0x1a4,'GT9g')](Ill11l(0x206,'uUhb')+iIIIIl[Ill11l(0x165,'drF3')][Ill11l(0x15c,'Pm9N')]['3'][0x0]?.[Ill11l(0x194,'TKPw')]+'京豆');}catch(iiilil){console[Ill11l(0x187,'hLyp')](iiilil[Ill11l(0x1e1,'hLyp')]);}}async function il1i1l(iil1li,lillIl){const il1ll=Ill11i,iIiIl={'ETIUn':il1ll(0x1c1,'[2zR'),'SBdvr':'\x0a---------------------------------------------------\x0a','JOvoy':function(iiilii,li1i1i){return iiilii===li1i1i;},'QjxRk':'tkplp','bOmpW':'main','BHHGT':function(IlIli1,illIiI){return IlIli1===illIiI;},'oNACX':il1ll(0x161,'elMZ'),'eNfke':function(lI1lli,Ill1l){return lI1lli!==Ill1l;},'CMpOG':il1ll(0x1c9,'6(83'),'kABgU':il1ll(0x14b,'JUem'),'fqVGC':'103','BBejY':il1ll(0x1ee,'TKPw'),'ZtaHO':function(llI1Il,ii1iii){return llI1Il!==ii1iii;},'LEHmr':il1ll(0x196,'0939'),'pecVV':il1ll(0x205,'3$Ma'),'ZQjvO':il1ll(0x247,'0939')};try{if(iIiIl[il1ll(0x16e,'mnb%')](iIiIl[il1ll(0x1f0,'JUem')],iIiIl['QjxRk']))switch(iil1li){case iIiIl[il1ll(0x1bf,'[2zR')]:if(iIiIl[il1ll(0x212,'7mkO')](lillIl[il1ll(0x244,'drF3')],'0')){if('spiyC'!==iIiIl[il1ll(0x200,'6(83')])delete iii1Il[il1ll(0x225,'nc^x')],delete lI1IiI[il1ll(0x1dc,'[2zR')][iIiIl['ETIUn']];else switch(lillIl[il1ll(0x1f4,'GT9g')]){case'0':lillIl?.['rewardsInfo']?.['successRewards']['3']?.[il1ll(0x223,'8)WH')]?iIiIl[il1ll(0x21e,'D)4F')](iIiIl[il1ll(0x151,'g04t')],il1ll(0x23e,'P@9k'))?(ll1i1[il1ll(0x1df,'GJMa')](IIli1i),I1iIi1&&(ll1l1[il1ll(0x1fc,'v^^A')]=!![],IllIIi[il1ll(0x1d6,'8)WH')]&&l1ii1['message'][il1ll(0x158,'D)4F')](ii1ll))):console[il1ll(0x1d3,'MI7N')]('🎉\x20签到成功，获得'+lillIl['rewardsInfo']['successRewards']['3'][0x0]?.[il1ll(0x1f6,'mnb%')]+'京豆'):console[il1ll(0x22b,'PkIi')](iIiIl['kABgU']);break;case iIiIl[il1ll(0x23b,'piTW')]:console[il1ll(0x1c8,'Ny^5')](iIiIl['BBejY']);break;default:console[il1ll(0x1d5,'$a%Y')](JSON['stringify'](lillIl));break;}}else lillIl[il1ll(0x1ea,'g04t')]?iIiIl[il1ll(0x19e,'[2zR')](iIiIl['LEHmr'],iIiIl[il1ll(0x191,'nKx!')])?console['log'](lillIl[il1ll(0x1e8,'naQd')]):IiiIil[il1ll(0x1b5,'3$Ma')](IiiIii,(lllI1l,i11iii,llI1Ii)=>{liliI({'err':lllI1l,'res':i11iii,'data':llI1Ii});}):iIiIl[il1ll(0x1d1,'[2zR')]!==iIiIl['ZQjvO']?Iil1II=iIIl1I+il1ll(0x159,'vpCc')+I1iIli+'）':console['log']('❓'+iil1li+'\x20'+JSON[il1ll(0x1d4,'6(83')](lillIl));break;}else Iillii[il1ll(0x187,'hLyp')](iIiIl[il1ll(0x154,'s5dU')]),IlI1iI[il1ll(0x180,'g04t')](iIiIl[il1ll(0x232,'D)4F')]);}catch(II1i1){console[il1ll(0x19f,'%8c@')]('❌\x20未能正确处理\x20'+iil1li+il1ll(0x208,'v^^A')+(II1i1[il1ll(0x1e1,'hLyp')]||II1i1));}}async function IlIlll(lI1lll){const i1ilIi=Ill11i,iIiII={'RFYPl':function(i11iiI,lIli11){return i11iiI(lIli11);},'nEAQG':'【提示】请先获取Cookie','JnVWy':function(lllI1I,lillI1){return lllI1I(lillI1);},'ncput':'POST','ZwDeS':i1ilIi(0x176,'3$Ma'),'NYhlv':i1ilIi(0x1dd,'JUem'),'gwCZZ':i1ilIi(0x1cd,'P@9k'),'wBbcM':i1ilIi(0x16c,'mnb%'),'TPduh':i1ilIi(0x1c5,'PkIi'),'QxBGZ':i1ilIi(0x1b0,'[2zR'),'OvRZk':'4.3','Odqrn':i1ilIi(0x1db,'F1$h'),'SqakN':i1ilIi(0x1cf,'C3g#'),'PFdYM':i1ilIi(0x16d,'nKx!'),'LKJou':i1ilIi(0x1a5,'MI7N'),'TRUvZ':i1ilIi(0x186,'s5dU'),'bLhww':i1ilIi(0x198,'eDn9'),'qXMgQ':'empty','AAQFA':i1ilIi(0x168,'elMZ'),'dkCmq':function(IlIlii,i1l1i1){return IlIlii===i1l1i1;},'pJjvR':'GET','gYNhR':i1ilIi(0x20a,'P@9k'),'BOAfx':function(liil11,iiillI){return liil11<iiillI;},'mUVzL':function(l1l111,l1iIII){return l1l111>l1iIII;},'lFHFl':function(llI1I1,IlIlil,lIli1I){return llI1I1(IlIlil,lIli1I);},'uZSFq':function(II1il,lllI11){return II1il===lllI11;},'GDwMk':i1ilIi(0x18a,'s5dU'),'vjqWO':i1ilIi(0x1a8,'9EdW'),'EDxIw':'Timeout\x20awaiting\x20\x27request\x27','mpAxe':i1ilIi(0x1d8,'JUem'),'yrMYJ':i1ilIi(0x173,'a$yK'),'RAlPk':'ultqP','GetZL':function(I1lIll,I1lIli){return I1lIll===I1lIli;},'PBeWX':i1ilIi(0x217,'9EdW'),'hVwUd':function(II1ii,IIIIII){return II1ii===IIIIII;},'svBJe':i1ilIi(0x23f,'elMZ'),'qhcsI':function(lillII,ii1ilI){return lillII!==ii1ilI;},'jAoFq':'TASHK','zZYVt':i1ilIi(0x231,'C3g#'),'AueAN':i1ilIi(0x227,'yVox'),'JlhUa':function(lI1ll1,iIiI1){return lI1ll1||iIiI1;},'BslBm':function(liil1I,i11ii1,IlIliI){return liil1I(i11ii1,IlIliI);},'iEHTi':function(l1iII1,iiill1){return l1iII1!==iiill1;},'LJdLJ':'SeeVf','dbDky':function(lIli1i,IIIII1){return lIli1i>=IIIII1;},'hGEVx':function(I1lIlI,ii1ill){return I1lIlI!==ii1ill;},'Nfegm':i1ilIi(0x1bd,'g04t'),'vvPzA':'vpPCe','EEKsD':i1ilIi(0x1bb,'$a%Y')};if($['runEnd']||$['outFlag'])return;let iil1lI='',iiiliI={},li1i1I=iIiII['ncput'];switch(lI1lll){case iIiII[i1ilIi(0x243,'elMZ')]:req={'appId':i1ilIi(0x160,'PkIi'),'functionId':i1ilIi(0x1e3,'PkIi'),'appid':iIiII[i1ilIi(0x1e0,'Pm9N')],'clientVersion':iIiII[i1ilIi(0x241,'yVox')],'client':iIiII[i1ilIi(0x235,'%cwg')],'body':{'sourceCode':iIiII[i1ilIi(0x15f,'nKx!')],'clientInfo':{'ip':i1ilIi(0x221,'s5dU')},'encryptProjectId':iIiII[i1ilIi(0x16a,'(0$A')],'encryptAssignmentId':i1ilIi(0x204,'F1$h'),'itemId':'1','completionFlag':!![],'actionType':0x0},'version':iIiII[i1ilIi(0x207,'a$yK')],'ua':$['UA'],'t':!![]};const II1iI=await IliiiI[i1ilIi(0x17b,'uUhb')](req);iil1lI='https://api.m.jd.com/api?',iiiliI=''+II1iI?.[i1ilIi(0x195,'GT9g')];break;default:console[i1ilIi(0x187,'hLyp')](i1ilIi(0x17f,'%8c@')+lI1lll);return;}const illIii={'url':iil1lI,'headers':{'Accept':'application/json,\x20text/plain,\x20*/*','Accept-Encoding':iIiII['Odqrn'],'Accept-Language':iIiII[i1ilIi(0x23d,'7M2*')],'Connection':iIiII[i1ilIi(0x1c7,'Ny^5')],'Content-Type':iIiII[i1ilIi(0x166,'uUhb')],'Cookie':liiIII,'Host':iIiII['TRUvZ'],'Referer':iIiII[i1ilIi(0x1e5,'B)hF')],'Origin':i1ilIi(0x198,'eDn9'),'Sec-Fetch-Dest':iIiII[i1ilIi(0x201,'P@9k')],'Sec-Fetch-Mode':i1ilIi(0x203,'3$Ma'),'Sec-Fetch-Site':iIiII[i1ilIi(0x20f,'0939')],'User-Agent':$['UA']},'body':iiiliI,'timeout':0x7530};$[i1ilIi(0x1af,'F1$h')]&&(illIii[i1ilIi(0x16f,'JEFO')][i1ilIi(0x14d,'PkIi')]=$['token']);iIiII[i1ilIi(0x1a2,'%cwg')](li1i1I,iIiII['pJjvR'])&&(delete illIii['body'],delete illIii[i1ilIi(0x1fd,'FJud')][iIiII[i1ilIi(0x245,'nKx!')]]);const ii1il1=0x5;let lI1llI=0x0,illIil=null,Ill1I=![];while(iIiII[i1ilIi(0x22e,'uUhb')](lI1llI,ii1il1)){iIiII[i1ilIi(0x237,'FJud')](lI1llI,0x0)&&await $['wait'](0x3e8);const {err:llI1II,res:lIli1l,data:lillIi}=await iIiII['lFHFl'](IIIl1I,illIii,li1i1I);if(llI1II){if(iIiII[i1ilIi(0x1be,'$a%Y')](iIiII[i1ilIi(0x222,'C3g#')],iIiII[i1ilIi(0x1f7,'$a%Y')]))lilIlI[i1ilIi(0x17d,'5e^D')](i1ilIi(0x246,'nc^x'));else{if(iIiII[i1ilIi(0x18d,'v^^A')](typeof llI1II,i1ilIi(0x150,'vlVy'))&&llI1II[i1ilIi(0x202,'9l[P')](iIiII[i1ilIi(0x1e4,'C3g#')]))illIil=lI1lll+i1ilIi(0x209,'&RRz');else{if('rXgPF'===iIiII[i1ilIi(0x18c,'LEwV')]){if([0x193,0x1ed][i1ilIi(0x1ab,'vlVy')](iIIl1i))li1Ii=Iliiii+'\x20请求失败，IP被限制（Response\x20code\x20'+i1illI+'）',i1IIl=!![];else[0x190,0x194][i1ilIi(0x21d,'9EdW')](Ii1iIi)?I1lll1=i1IIi+i1ilIi(0x1f3,'9l[P')+IIII1I+'）':Iii111=l1l1II+i1ilIi(0x157,'uUhb')+Iil1I1+'）';}else{const liil1i=lIli1l?.[i1ilIi(0x239,'Ny^5')];if(liil1i){if(iIiII[i1ilIi(0x14f,'%8c@')]===iIiII[i1ilIi(0x214,'JEFO')])illIlI({'err':liIiI,'res':l1il1I,'data':Iiili});else{if([0x193,0x1ed][i1ilIi(0x1cc,'5e^D')](liil1i)){if(iIiII[i1ilIi(0x17e,'GT9g')](iIiII[i1ilIi(0x1f5,'naQd')],'JqkqG')){const liil1l={'inDwU':function(lI1lii,Iiili1){const lill1l=i1ilIi;return iIiII[lill1l(0x238,'Ny^5')](lI1lii,Iiili1);}};lilIi[i1ilIi(0x22a,'F1$h')](l1l11I,(Iil1l1,i1i11I,il1iIl)=>{liil1l['inDwU'](IilIlI,{'err':Iil1l1,'res':i1i11I,'data':il1iIl});});}else illIil=lI1lll+'\x20请求失败，IP被限制（Response\x20code\x20'+liil1i+'）',Ill1I=!![];}else[0x190,0x194][i1ilIi(0x1d0,'uUhb')](liil1i)?illIil=lI1lll+i1ilIi(0x1ef,'mnb%')+liil1i+'）':illIil=lI1lll+'\x20请求失败（Response\x20code\x20'+liil1i+'）';}}else iIiII[i1ilIi(0x163,'&RRz')](iIiII[i1ilIi(0x1e2,'LEwV')],i1ilIi(0x178,'7M2*'))?illIil=lI1lll+i1ilIi(0x1b8,'6(83')+(llI1II[i1ilIi(0x1c2,'(0$A')]||llI1II):i1iliI['log']('❌\x20未能正确处理\x20'+I1iIii+i1ilIi(0x197,'GT9g')+(IllII1[i1ilIi(0x1ba,'drF3')]||I1iIil));}}lI1llI++;}}else{const il1iIi=lllili[i1ilIi(0x1a9,'LEwV')](lIli1l),iii1il=![];if(iii1il){if(iIiII[i1ilIi(0x21c,'P@9k')](iIiII[i1ilIi(0x188,'JUem')],iIiII[i1ilIi(0x23a,'elMZ')]))lilIl1['msg'](i1l1ii['name'],iIiII[i1ilIi(0x1fa,'P@9k')]),i1l1[i1ilIi(0x23c,'[2zR')](0x1);else{const I1l11i=iIiII[i1ilIi(0x210,'vlVy')]['split']('|');let iIIiiI=0x0;while(!![]){switch(I1l11i[iIIiiI++]){case'0':console['log'](iIiII[i1ilIi(0x1de,'MI7N')]);continue;case'1':console[i1ilIi(0x229,'Pm9N')](i1ilIi(0x15e,'P@9k')+lI1lll+i1ilIi(0x19a,'5e^D')+iIiII[i1ilIi(0x1a1,'7M2*')](lillIi,'无')+'\x0a');continue;case'2':console['log'](illIii);continue;case'3':console[i1ilIi(0x193,'mnb%')](iIiII[i1ilIi(0x22f,'s5dU')]);continue;case'4':console['log']('🔧\x20'+lI1lll+i1ilIi(0x181,'nKx!')+iIiII[i1ilIi(0x1b6,'$a%Y')](il1iIi,'无')+'\x0a');continue;case'5':console[i1ilIi(0x1c6,'D)4F')](i1ilIi(0x226,'$a%Y')+lI1lll+'\x20请求参数');continue;}break;}}}try{const liiI1i=JSON[i1ilIi(0x22c,'JUem')](lillIi);iIiII['BslBm'](il1i1l,lI1lll,liiI1i);break;}catch(ililIi){if(iIiII['iEHTi'](iIiII[i1ilIi(0x213,'JEFO')],iIiII[i1ilIi(0x179,'5e^D')])){IiilI1[i1ilIi(0x216,'%cwg')]('账号无效');return;}else illIil='❌\x20'+lI1lll+i1ilIi(0x22d,'Hx$6')+ililIi[i1ilIi(0x1ae,'3$Ma')],console[i1ilIi(0x1cb,'eDn9')]('🚫\x20'+lI1lll+'\x20=>\x20'+String(iIiII[i1ilIi(0x20b,'s5dU')](lillIi,i1ilIi(0x1ff,'$a%Y')))),iii1il&&(console[i1ilIi(0x1a4,'GT9g')](iIiII['AueAN']),console['log'](iIiII['AueAN'])),lI1llI++;}Ill1I=![];}}if(iIiII['dbDky'](lI1llI,ii1il1)){if(iIiII[i1ilIi(0x224,'5e^D')](iIiII[i1ilIi(0x1ed,'nKx!')],iIiII[i1ilIi(0x1b9,'[2zR')]))console['log'](illIil),Ill1I&&(iIiII[i1ilIi(0x164,'piTW')](iIiII[i1ilIi(0x15b,'[2zR')],iIiII[i1ilIi(0x192,'9l[P')])?($[i1ilIi(0x1bc,'TKPw')]=!![],$[i1ilIi(0x1c0,'nc^x')]&&$['message'][i1ilIi(0x1a7,'naQd')](illIil)):(lilIli=Iliili+i1ilIi(0x19d,'FJud')+Iliill+'）',IIII11=!![]));else return new illIll(async i1l1II=>{const i1iiI=i1ilIi,i1ill={'IKrhY':function(I1l11l,lilIIi){const l1l1i1=iii1II;return iIiII[l1l1i1(0x1b4,'piTW')](I1l11l,lilIIi);}};iiilli[i1iiI(0x170,'uUhb')](l1iIIl,(i1l1Il,llIli,i1i11l)=>{const i1ilIl=i1iiI;i1ill[i1ilIl(0x182,'C3g#')](i1l1II,{'err':i1l1Il,'res':llIli,'data':i1i11l});});});}}async function IIIl1I(i1i11i,II11l1=Ill11i(0x1b1,'Hx$6')){const llI11I=Ill11i,Iil1lI={'ydNEp':function(IiiliI,iii1iI){return IiiliI===iii1iI;},'xBIxz':llI11I(0x1c4,'mnb%'),'muEeu':function(llIll,il1iII){return llIll(il1iII);},'VWzmr':function(iilli,IlllIl){return iilli(IlllIl);},'xkyPb':llI11I(0x167,'Hx$6'),'ichlk':llI11I(0x1f2,'$a%Y'),'mKvvD':llI11I(0x156,'%cwg')};if(Iil1lI[llI11I(0x1da,'5e^D')](II11l1,llI11I(0x248,'GT9g')))return new Promise(async II11lI=>{$['post'](i1i11i,(lI1IIi,I1l11I,Ilil1l)=>{const Il1i11=iii1II;Iil1lI[Il1i11(0x190,'7mkO')](Iil1lI[Il1i11(0x1e9,'(0$A')],Iil1lI[Il1i11(0x18f,'a$yK')])?Iil1lI[Il1i11(0x20c,'nc^x')](II11lI,{'err':lI1IIi,'res':I1l11I,'data':Ilil1l}):i1l1I['headers'][Il1i11(0x189,'3$Ma')]=IiilIi['token'];});});else{if(Iil1lI['ydNEp'](II11l1,Iil1lI['ichlk']))return new Promise(async iilll=>{const iii1li=llI11I,il1iI1={'zHJZI':function(IlllIi,iIIiil){return Iil1lI['VWzmr'](IlllIi,iIIiil);},'Apxro':iii1li(0x162,'nKx!'),'VnNvd':'GlzNy'};if(iii1li(0x155,'mnb%')===Iil1lI['xkyPb'])return new ll1ll(async I1iIIi=>{const I1iIIl={'VYBEa':function(lI1IIl,i1ilI){return il1iI1['zHJZI'](lI1IIl,i1ilI);}};I1ilIl['post'](I11iII,(iii1lI,i1ilI1,Iiilii)=>{I1iIIl['VYBEa'](I1iIIi,{'err':iii1lI,'res':i1ilI1,'data':Iiilii});});});else $['get'](i1i11i,(Iil1li,Iiilil,Iil1ll)=>{const Iil1i1=iii1li;il1iI1['Apxro']===il1iI1[Iil1i1(0x1a3,'GJMa')]?IiilII[Iil1i1(0x193,'mnb%')]('❓'+IliI1I+'\x20'+lI1Iii['stringify'](i1li)):il1iI1[Iil1i1(0x18b,'elMZ')](iilll,{'err':Iil1li,'res':Iiilil,'data':Iil1ll});});});else{const lI1III=Iil1lI[llI11I(0x1ac,'C3g#')];return{'err':lI1III,'res':null,'data':null};}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
